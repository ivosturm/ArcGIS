<?xml version="1.0" encoding="utf-8" ?>
<widget id="ArcGIS.widget.ArcGIS" needsEntityContext="false" xmlns="http://www.mendix.com/widget/1.0/">
  <name>ArcGIS Widget</name>
    <description>ArcGIS Widget</description>
    <icon>

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
/wD/2Q==
	
	</icon>
    <properties> 
        <property key="objectEntity" type="entity" required="true" allowNonPersistableEntities="true" >
            <caption>Object Entity</caption>
            <category>Data Source</category>
            <description>The entity of the ArcGIS Objects.</description>
        </property>
        <property key="xPathConstraint" type="entityConstraint" entityProperty="objectEntity" required="false">
            <caption>XPath Constraint</caption>
            <category>Data Source</category>
            <description>(Not applicable when using Get Objects Microflow) The XPath constraint on the objects.</description> 
        </property>
        <property key="objectIDAttr" type="attribute" entityProperty="objectEntity" required="true">
            <caption>Object ID</caption>
            <category>Data Source</category>
            <description>The unique ObjectID attribute of the GIS Object. Used for zooming behavior when dataview context object is an ArcGIS Object. Should corresponds with 'ArcGIS Identifier Name' setting.</description>
            <attributeTypes>
                <attributeType name="Integer"/>
            </attributeTypes>
        </property>
        <property key="arcGISID" type="string" required="true"  defaultValue="objectid">
            <caption>ArcGIS Identifier Name</caption>
            <category>Data Source</category>
            <description>The name of the GIS attribute to use for querying ArcGIS and retrieving objects. Default is 'OBJECTID'</description>
        </property>
        <property key="centerAttr" type="attribute" entityProperty="objectEntity" required="true">
            <caption>Center Coordinates</caption>
            <category>Data Source</category>
            <description>The attribute to store the coordinates of the center of the GIS object in. Used especially for zooming in listen-to-grid scenario.</description>
            <attributeTypes>
                <attributeType name="String"/>
            </attributeTypes>
        </property>
        <property key="colorAttr" type="attribute" entityProperty="objectEntity" required="false">
            <caption>Color Attribute</caption>
            <category>Data Source</category>
            <description>(Applicable on QueryLayer only) The attribute to use in the QueryLayer to overrule the color coming from ArcGIS. Comma separated RGB - 255,0,0 for red - is expected.</description>
            <attributeTypes>
                <attributeType name="String"/>
            </attributeTypes>
        </property>
        <property key="geometryTypeAttr" type="attribute" entityProperty="objectEntity" required="true">
            <caption>Geometry Type</caption>
            <category>Data Source</category>
            <description>The attribute to store the geometry type in. This is used to query the correct ArcGIS layer if multiple layers with different Geometry Types are used.</description>
            <attributeTypes>
                <attributeType name="Enum"/>
            </attributeTypes>
        </property>
        <property key="baseMapURL_Default" type="string" required="false" defaultValue="https://services.arcgisonline.nl/arcgis/rest/services/Basiskaarten/Topo/MapServer">
            <caption>Base Default Map URL</caption>
            <category>Behavior</category>
            <description>The URL of the default base map to load.</description>
        </property>
        <property key="baseMapURL_Satellite" type="string" required="false" defaultValue="https://services.arcgisonline.nl/arcgis/rest/services/Luchtfoto/Luchtfoto/MapServer">
            <caption>Base Satellite Map URL</caption>
            <category>Behavior</category>
            <description>The URL of the satellite base map to load.</description>
        </property>
        <property key="spatialReference" type="string" required="true" defaultValue="10210">
            <caption>Spatial Reference</caption>
            <category>Behavior</category>
            <description>The spatial reference of a map, layer, or inputs to and outputs from a task. Each projected and geographic coordinate system is defined by either a well-known ID (WKID) or a definition string (WKT). Note that versions prior to ArcGIS 10 only wkid was supported.  </description>
        </property> 		
		<property key="showAllObjectsInLayer" type="boolean" defaultValue="false">
            <caption>Show All Objects</caption>
            <category>Appearance</category>
            <description>When set to true all objects of the Layer will be shown. When set to false the widget will try only to plot only the objects that are retrieved by XPath, DataSource Microflow, or in case of a ListenToGrid, the Context DataGrid object.</description> 
        </property>  		
		<property key="enableLegend" type="boolean" defaultValue="true">
            <caption>Enable Legend</caption>
            <category>Appearance</category>
            <description>This decides whether a legend is available for the plotted layers. An extra menu-item will be added in the accordeon menu.</description> 
        </property> 	
		<property key="enableToggleLayers" type="boolean" defaultValue="true">
            <caption>Enable Toggling Layers</caption>
            <category>Appearance</category>
            <description>This decides whether an end user will be available to toggle layer visibility. An extra menu-item will be added in the accordeon menu.</description> 
        </property> 
		<property key="enableSearch" type="boolean" defaultValue="true">
            <caption>Enable Search</caption>
            <category>Appearance</category>
            <description>Whether a Search Bar will be added to the map to search for and zoom to a typed in address.</description> 
        </property> 
		<property key="startSubLayerListCollapsed" type="boolean" defaultValue="true">
            <caption>Start SublayerList Collapsed</caption>
            <category>Appearance</category>
            <description>This decides whether the list of toggable visible sublayers opens on startup.</description> 
        </property> 		
        <property key="mapHeight" type="integer" defaultValue="600">
            <caption>Height</caption>
            <category>Appearance</category>
            <description>The map's height in pixels.</description> 
        </property>
        <property key="mapWidth" type="integer" defaultValue="900">
            <caption>Width</caption>
            <category>Appearance</category>
            <description>The map's width in pixels. Setting it to 10.000 will set it to 95 % of the width of the screen and will resize it dynamically when zooming.</description> 
        </property>
		<property key="customColor" type="string" required="false" defaultValue="#FF0000">
            <caption>Custom Color</caption>
            <category>Appearance</category>
            <description>The hexadecimal color which will be used for styling the border of the map and the hover on accordion menu with Layers and SubLayers.</description>
        </property>
		<property key="selectedColor" type="string" required="false" defaultValue="#000000">
            <caption>Selected Color</caption>
            <category>Appearance</category>
            <description>The hexadecimal color which will be used for the active pane in the right accordion menu.</description>
        </property>
        <property key="defaultY" type="string" defaultValue="680000">
            <caption>Default Y</caption>
            <category>Behavior</category>
            <description>Default Y value for the map to start at.</description> 
        </property>
        <property key="defaultX" type="string" defaultValue="60000">
            <caption>Default X</caption>
            <category>Behavior</category>
            <description>Default X for the map to start at.</description> 
        </property>
        <property key="defaultZoom" type="integer" defaultValue="3">
            <caption>Default Zoom Level</caption>
            <category>Behavior</category>
            <description>The zoom level used when displaying a map only.</description> 
        </property>
        <property key="_singleObjectZoom" type="integer" defaultValue="6">
            <caption>Object Zoom Level</caption>
            <category>Behavior</category>
            <description>The zoom level used when focussing on an object.</description> 
        </property>
        <property key="layerArray" type="object" isList="true" required="false">
            <caption>Layer Definitions</caption>
            <category>Layer</category>
            <description>Add one or multiple layers to plot on the basemap.</description>
            <properties>
				<property key="layerServerType" type="enumeration" required="true" defaultValue="MapServer">
					<caption>Layer Server Type</caption>
					<category>Layer</category>
					<description>Determines which server type to use for the layers.</description>
					<enumerationValues>
						<enumerationValue key="MapServer">MapServer</enumerationValue>
						<enumerationValue key="FeatureServer">FeatureServer</enumerationValue>
					</enumerationValues>
				</property>
                <property key="layerURL" type="string">
                    <caption>Layer URL</caption>
                    <category>Layer</category>
                    <description>The URL of the layer.</description>
                </property>
					<property key="useDynamicFSHostName" type="boolean" required="true" defaultValue="true">
					<caption>Use Dynamic Host Name</caption>
					<category>Layer</category>
					<description>If set to 'Yes' the layer will be loaded with hostname URL retrieved from 'Get Hostname Microflow' + /arcgis/rest/services/ + Layer URL. If set to 'No' only the Layer URL will be used.</description>
				</property>																								   
                <property key="layerID" type="string">
                    <caption>Layer Name</caption>
                    <category>Layer</category>
                    <description>The name of the layer to appear in the toggle layers pane.</description>
                </property>
				<property key="visibleLayerIndexes" type="string" required="false">
					<caption>Visible Layer Indexes</caption>
					<category>Layer</category>
					<description>(MapLayer only) The indexes, concatenated and separated with a comma, of the Layers to show on the basemap. So, if you want to show layers 2 and 3, add 2, 3 here.</description>
				</property>
				<property key="startLayerTicked" type="boolean" required="true" defaultValue="true">
					<caption>Start Layer Ticked</caption>
					<category>Layer</category>
					<description>If set to 'Yes' the layer starts with the layer ticked, hence visible.</description>
				</property>
				<property key="featureLayerID" type="string" required="false">
					<caption>Feature Layer ID</caption>
					<category>Layer</category>
					<description>(FeatureLayer only) The ID of the FeatureLayer.</description>
				</property>
				<property key="queryLayer" type="boolean" required="true" defaultValue="false">
					<caption>Query Layer</caption>
					<category>Layer</category>
					<description>(FeatureLayer only) Set this boolean to true to let the widget check this layer for retrieving the arcgis objects and setting the extent. Preferably set only 1 layer to Yes</description>
				</property>
                <property key="showAttribution" type="boolean" defaultValue="false">
                    <caption>Show Attribution</caption>
                    <category>Layer</category>
                    <description>Whether to show the attribution (who contributed to the map ESRI, Nasa, Kadaster, etc) of the Layer or not.</description>
                </property>
				<property key="opacity" type="string" required="false" defaultValue="1.0">
					<caption>Layer Opacity</caption>
					<category>Layer</category>
					<description>(FeatureLayer only) Adjust the opacity of the objects plotted on the map. 1.0 is fully opaque, 0.0 is fully transparent. For polyons typically use 0.5.</description>
				</property>
				<property key="layerGeometryType" type="enumeration" required="true" defaultValue="point">
					<caption>Layer Geometry Type</caption>
					<category>Layer</category>
					<description>Based on this attribute the correct Layer will be queried for pop-up information.</description>
					<enumerationValues>
						<enumerationValue key="point">point</enumerationValue>
						<enumerationValue key="polyline">polyline</enumerationValue>
						<enumerationValue key="polygon">polygon</enumerationValue>
						<enumerationValue key="multipoint">multipoint</enumerationValue>
					</enumerationValues>
				</property>
            </properties>
        </property>
		<property key="enableCustomStyling" type="boolean" defaultValue="false">
			<caption>Enable Custom Styling</caption>
			<category>Layer</category>
			<description>(Only supported for point and polygon QueryLayers) Whether to overrule styling for the object in the layer which has 'Query Layer' set to 'Yes'.</description>
		</property>	
        <property key="colorArray" type="object" isList="true" required="false">
            <caption>Color Labeling</caption>
            <category>Layer</category>
            <description>(QueryLayer only) Add labels to the different colors of the objects.</description>
            <properties>
				<property key="featureColor" type="string" required="false" defaultValue="255,0,0">
					<caption>Feature Color</caption>
					<category>Layer</category>
					<description>(QueryLayer only) the RGB color of the object as found in the Color Attribute.</description>
				</property>
				<property key="featureColorLabel" type="string" required="false" defaultValue="New Label">
					<caption>Feature Label</caption>
					<category>Layer</category>
					<description>(QueryLayer only) The label for the symbol of this specific RGB color.</description>
				</property>
            </properties>
        </property>
        <property key="defaultColor" type="string" required="false" defaultValue="0,100,255">
            <caption>Default Color</caption>
            <category>Layer</category>
            <description>The default color for all objects in the Query Layer that are not stored in Mendix.</description> 
        </property>
        <property key="defaultLabel" type="string" required="false" defaultValue="Other">
            <caption>Default Label</caption>
            <category>Layer</category>
            <description>The default label for all objects in the Query Layer that are not stored in Mendix.</description> 
        </property>
		<property key="markerSymbol" type="enumeration" required="true" defaultValue="STYLE_CROSS">
			<caption>Marker Symbol</caption>
			<category>Layer</category>
			<description>(QueryLayer only) Adjust the type of marker being placed on the map. Will overrule what is set in ArcGIS itself for the markers.</description>
			<enumerationValues>
				<enumerationValue key="STYLE_CIRCLE">Circle</enumerationValue>
				<enumerationValue key="STYLE_CROSS">Cross</enumerationValue>
				<enumerationValue key="STYLE_DIAMOND">Diamond</enumerationValue>
				<enumerationValue key="STYLE_SQUARE">Square</enumerationValue>
				<enumerationValue key="STYLE_X">Diagonal Cross</enumerationValue>
			</enumerationValues>
		</property>
        <property key="attributesArray" type="object" isList="true" required="false">
            <caption>Attributes</caption>
            <category>Interaction</category>
            <description>Add one or multiple attributes which are to be retrieved on click of a point and shown in infowindow popup..</description>
            <properties>
                <property key="attrName" type="string">
                    <caption>Name</caption>
                    <category>Interaction</category>
                    <description>The name of the attribute in the layer. Should be an exact match, because layer will be queried for this attribute.</description>
                </property>
                <property key="attrLabel" type="string">
                    <caption>Label</caption>
                    <category>Interaction</category>
                    <description>The label to appear in the infowindow popup, next to the value.</description>
                </property>
                <property key="isTitle" type="boolean" defaultValue="false">
                    <caption>Is Title</caption>
                    <category>Interaction</category>
                    <description>Whether the attribute is to be used as the title or not. Only set one of the attributes to Yes!</description>
                </property>
            </properties>
        </property>
        <property key="onClickMF" type="microflow" required="false" defaultValue="" entityProperty="objectEntity">
            <caption>On Click Microflow</caption>
            <category>Interaction</category>
            <description>Microflow that will be executed when you click on the infowindow button. Takes the entity of the Objects as input parameter</description>
            <returnType type="Void"></returnType>
        </property>
        <property key="onClickButttonLabel" type="string" required="false" defaultValue="Open">
            <caption>On Click Button Label</caption>
            <category>Interaction</category>
            <description>The label of the button to appear in the infowindow.</description> 
        </property>
        <property key="onClickButttonClass" type="string" required="false" defaultValue="btn mx-button">
            <caption>On Click Button Class</caption>
            <category>Interaction</category>
            <description>The classes on the button to appear in the infowindow. By default mendix default classes are added. Those can be stripped and/or your own class added.</description> 
        </property>
        <property key="_getObjectsMF" type="microflow" required="false" defaultValue="" entityProperty="getObjectsMFEntity">
            <caption>Get Objects Microflow</caption>
            <category>Data Source</category>
            <description>Microflow to retrieve all objects which should be visible on the ArcGIS Map.</description>
            <returnType type="Object" isList="true" entityProperty="objectEntity"/>
        </property>
		<property key="getObjectsMFEntity" entityProperty="objectEntity" type="entity" required="false">
			<caption>Get Objects Entity</caption>
			<category>Data Source</category>
			<description>The entity which will be used as inputparameter for Get Objects Microflow.</description>
		</property>
        <property key="getHostNameMF" type="microflow" required="true" defaultValue="">
            <caption>Get HostName Microflow</caption>
            <category>Environment</category>
            <description>Microflow which should be used to retrieve the HostName, preferably stored in an application constant. Needs the constant as a String outputparameter..</description>
            <returnType type="String"></returnType>
        </property>
        <property key="getFeatureServerNameMF" type="microflow" required="false" defaultValue="">
            <caption>Get FeatureServerName Microflow</caption>
            <category>Environment</category>
            <description>Microflow which should be used to retrieve the FeatureServerName, preferably stored in an application constant. Needs the constant as a String outputparameter.
			If not chosen, the FeatureServer name of the Layer Objects will be chosen.</description>
            <returnType type="String"></returnType>
        </property>
        <property key="consoleLogging" type="boolean" defaultValue="false">
            <caption>Logging</caption>
            <category>Console</category>
            <description>For debugging purposes. 
			
			If set to true the widget will add a console.dir (whole object) and console.log (coordinates) for every object retrieved from the database. The results can be checked in the browser itself in the console tab.</description> 
        </property>
    </properties>
</widget>

