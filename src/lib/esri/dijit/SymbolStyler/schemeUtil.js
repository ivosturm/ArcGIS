// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/SymbolStyler/schemeUtil",["../../Color","../../styles/relationship","dojo/_base/array","dojo/_base/lang"],function(f,g,e,k){var d={getColorRamps:function(a,b){a=d.getColorRampsWithSchemes(a,b);return e.map(a,function(a){return a.colors})},getColorRampsWithSchemes:function(a,b){a=d._unify(a);var c=[];e.forEach(a,function(a){var h=!!a.colorsForClassBreaks,h=0<b&&h?d._getClassBreaksColors(a,b):a.colors;c.push({colors:d._createColors(h),scheme:a})});return c},_getClassBreaksColors:function(a,
b){return d.is2DScheme(a)?g.getColors(a,b):d._maxSupportedClassBreakColors(a.colorsForClassBreaks,b)},_unify:function(a){return[a.primaryScheme].concat(a.secondarySchemes)},is2DScheme:function(a){return!!(a&&a.colorsForClassBreaks&&a.colorsForClassBreaks[0]&&a.colorsForClassBreaks[0].colors&&Array.isArray(a.colorsForClassBreaks[0].colors[0]))},_maxSupportedClassBreakColors:function(a,b){for(var c,d=a.length,e,f=0;f<d;f++){e=a[f];if(b<e.numClasses)break;c=e.colors}return c},getColorsForClassBreaks:function(a,
b){var c=a.colorsForClassBreaks;return c&&d.is2DScheme(a)?g.getColors(a,b):d._maxSupportedClassBreakColors(c,b)},getFillColors:function(a){a=d._unify(a);var b=[],c;e.forEach(a,function(a){c=a.marker||a;c.colors?b=b.concat(c.colors):b.push(c.color)});return d._removeDuplicates(b)},_removeDuplicates:function(a){var b={},c;return e.filter(a,function(a){(c=!b[a.toHex()])&&(b[a.toHex()]=1);return c})},getOutlineColors:function(a){a=d._unify(a);var b=[],c;e.forEach(a,function(a){c=a.marker||a;c.outline?
b.push(c.outline.color):c.colors?b=b.concat(c.colors):c.color&&b.push(c.color)});return d._removeDuplicates(b)},flipColors:function(a){a&&(a.colors&&a.colors.reverse(),d.is2DScheme(a)?g.flipColors(a,!0):a.colorsForClassBreaks&&e.forEach(a.colorsForClassBreaks,function(a){1<a.numClasses&&a.colors.reverse()}))},cloneScheme:function(a){var b,c;a&&(b=k.mixin({},a),c=d.is2DScheme(a),b.colors&&(b.colors=d._createColors(b.colors)),b.colorsForClassBreaks&&(b.colorsForClassBreaks=e.map(b.colorsForClassBreaks,
function(a){return{numClasses:a.numClasses,colors:c?a.colors.map(function(a){return d._createColors(a)}):d._createColors(a.colors)}})),b.noDataColor&&(b.noDataColor=new f(b.noDataColor)),b.outline&&(b.outline={color:b.outline.color&&new f(b.outline.color),width:b.outline.width}));return b},_createColors:function(a,b){return e.map(a,function(a){a=new f(a);null!=b&&(a.a=b);return a})}};return d});