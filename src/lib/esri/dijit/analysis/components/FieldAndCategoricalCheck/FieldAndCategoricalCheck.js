// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/dijit/analysis/components/FieldAndCategoricalCheck/FieldAndCategoricalCheck.html":'\x3ctr data-dojo-attach-point\x3d"_componentWidget"\x3e\r\n  \x3ctd colspan\x3d"3"\x3e\r\n    \x3cdiv class\x3d"esriLeadingMargin1 explanatoryDiv longInput"\x3e\r\n      \x3ctable class\x3d"one-width"\x3e\r\n          \x3cthead\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd\x3e\x3c/td\x3e\r\n              \x3ctd\x3e${i18n.fields}\x3c/td\x3e\r\n              \x3ctd\x3e${i18n.categorical}\r\n                \x3cdiv class\x3d"warningIcon hide" data-dojo-attach-point\x3d"_warningIcon" tabindex\x3d"0"\x3e\x3c/div\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd colspan\x3d"3" class\x3d"formBorderBottom"\x3e\x3c/td\x3e\r\n            \x3c/tr\x3e\r\n          \x3c/thead\x3e\r\n          \x3c!-- Rows will be added below --\x3e\r\n          \x3ctbody\x3e\r\n            \x3ctr data-dojo-attach-point\x3d"_emptyRow"\x3e\x3c/tr\x3e\r\n          \x3c/tbody\x3e\r\n        \x3c/table\x3e\r\n    \x3c/div\x3e\r\n  \x3c/td\x3e\r\n\x3c/tr\x3e'}});
define("esri/dijit/analysis/components/FieldAndCategoricalCheck/FieldAndCategoricalCheck","../../../../kernel ../../utils ../../AnalysisRegistry dijit/form/Select dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/CheckBox dijit/Tooltip dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/has dojo/dom-construct dojo/Evented dojo/on dojo/i18n!../../nls/FieldAndCategoricalCheck dojo/text!./FieldAndCategoricalCheck.html".split(" "),function(n,g,p,y,q,r,k,l,t,d,h,u,f,v,m,w,x){g=t([q,r,v],{declaredClass:"esri.dijit.analysis.components.FieldAndCategoricalCheck.FieldAndCategoricalCheck",
templateString:x,i18n:{},value:[],explanatoryVariables:[],_allRowWidgets:[],constructor:function(a){},postMixInProperties:function(){this.inherited(arguments);d.mixin(this.i18n,w)},postCreate:function(){this.inherited(arguments);this._loadConnections()},destroy:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments)},_loadConnections:function(){this.own(m(this._warningIcon,"click",d.hitch(this,function(a){this._displayWarningMessage(!0)})),m(this._warningIcon,"blur",d.hitch(this,
function(a){this._displayWarningMessage(!1)})))},resetOptions:function(a){this._removeAllRows();a.forEach(function(a){this._createRow(a.label,a.value,a.type)},this)},_createRow:function(a,b,e){var c,d,g,h;c=f.create("tr",null,this._emptyRow,"before");d=f.create("td",null,c);g=f.create("td",null,c);h=f.create("td",null,c);d=this._createCheckBoxes(d,h);c.fieldCheckBox=d.fieldCheckBox;c.categoricalCheckBox=d.categoricalCheckBox;c.fieldLabel=a;c.fieldName=b;c.fieldType=e;this._createAndLinkLabel(g,c.fieldCheckBox,
a);e===p.PseudoFieldTypes.String&&(c.categoricalCheckBox.set("checked",!0),c.categoricalCheckBox.set("readOnly",!0));this._allRowWidgets.push(c)},_createCheckBoxes:function(a,b){var e;a=new k(null,f.create("input",null,a));a.startup();e=new k({class:"hide"},f.create("input",null,b));e.startup();this.own(a.on("change",d.hitch(this,function(a){this.emit("update-parent-tool",{});h.toggle(e.domNode,"hide",!a);0===this.get("explanatoryVariables").length?this._displayWarningIcon(!0):1===this.get("explanatoryVariables").length&&
this._displayWarningIcon(!1)})));return{fieldCheckBox:a,categoricalCheckBox:e}},_createAndLinkLabel:function(a,b,e){f.create("label",{"for":b.id,innerHTML:e},a)},_removeAllRows:function(){this._allRowWidgets.forEach(function(a){this._removeRow(a)},this);this._allRowWidgets=[]},_removeRow:function(a){a&&a.fieldCheckBox&&a.categoricalCheckBox&&(a.fieldCheckBox.destroyRecursive(),a.categoricalCheckBox.destroyRecursive(),f.destroy(a))},_setExplanatoryVariablesAttr:function(a){this._allRowWidgets.forEach(function(b){a.forEach(function(a){b.fieldName===
a.fieldName&&(b.fieldCheckBox.set("checked",!0,!1),h.remove(b.categoricalCheckBox.domNode,"hide"),b.categoricalCheckBox.set("checked",a.categorical))})});this.emit("update-explanatory-field-component",{})},_setValueAttr:function(a){this.set("explanatoryVariables",a)},_getExplanatoryVariablesAttr:function(){var a=[];this._allRowWidgets.forEach(function(b){b.fieldCheckBox.get("checked")&&a.push({fieldName:b.fieldName,categorical:b.categoricalCheckBox.get("checked")})});return a},_getValueAttr:function(){return this.get("explanatoryVariables")},
_getExplanatoryVariablesOptionsAttr:function(){var a=[];this._allRowWidgets.forEach(function(b){b.fieldCheckBox.get("checked")&&a.push({value:b.fieldName,label:b.fieldLabel,type:b.fieldType})});return a},validate:function(){var a;a=0<this.get("explanatoryVariables").length;this._displayWarningIcon(!a);return a},focus:function(){0<this._allRowWidgets.length&&this._allRowWidgets[0].fieldCheckBox.focus()},_displayWarningMessage:function(a){a?l.show(this.i18n.requiredMessage,this._warningIcon):l.hide(this._warningIcon)},
_displayWarningIcon:function(a){h.toggle(this._warningIcon,"hide",!a)}});u("extend-esri")&&d.setObject("esri.dijit.analysis.components.FieldAndCategoricalCheck.FieldAndCategoricalCheck",g,n);return g});