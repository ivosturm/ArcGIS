<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title></title>
    <link rel="Stylesheet" href="../css/analysis.css" />
    <script type="text/javascript">
        function init() {
            if (window.location.hash) {
                var parentDiv, nodes, i, helpInfo, helpId, helpInfoArr, helpEnvFilter, envContent, hideEnvClass, hideNodes;
                helpInfo = window.location.hash.substring(1);
                    if(helpInfo.indexOf("-")) {
                        helpInfoArr = helpInfo.split("-");
                        helpId = helpInfoArr[0];
                        helpEnvFilter = helpInfoArr[1];
                    }
                    else {
                        helpId = helpInfo;
                    }
                parentDiv = document.getElementById("topics");
                nodes = parentDiv.children;
                    hideEnvClass = (helpEnvFilter === "OnlineOnly"? "PortalOnly": "OnlineOnly");
                    if(document.getElementsByClassName) {
                        hideNodes = document.getElementsByClassName(hideEnvClass);
                    }
                    else {
                        hideNodes = document.querySelectorAll(hideEnvClass);
                    }
                for(i=0; i < nodes.length; i++) {
                    if(nodes[i].id !== helpId) {
                        nodes[i].style.display ="none";
                    }
                    }
                    for(i=0; i < hideNodes.length; i++) {
                        hideNodes[i].style.display ="none";
                    }
                }
            }
    </script>
</head>
<body onload="init()">
<div id="topics">
    <div id="toolDescription" class="regularsize">
        <h2>Присоединить объекты</h2><p/>
        <h2><img src="../images/GUID-900E33CD-3789-45B5-8F0C-92D91E64D2A4-web.png" alt="Присоединить объекты"></h2>
        <hr/>
    <p>Инструмент Присоединить объекты работает с двумя слоями. Присоединить объекты присоединяет атрибуты одного объекта к другому на основе пространственных, временных и атрибутивных отношений или любой их комбинации. Инструмент определяет все входные объекты, соответствующие указанному условию присоединения, затем присоединяет второй входной слой к первому. Также, можно присоединить все объекты к совпадающим или суммировать совпадающие объекты.
    </p>
    <p>Присоединить объекты применяется к точкам, линиям и таблицам. Для присоединения по времени требуется, чтобы во входных данных использовалось время, а для пространственного присоединения необходимо, чтобы данные содержали геометрию. 
    </p>
    </div>
    <!--Parameter divs for each param-->
    <div id="targetLayer">
        <div><h2>Выбрать целевой слой</h2></div>
        <hr/>
        <div>
            <p>Слой, который получит атрибуты из слоя, присоединяемого к его таблице.
            </p>
            <p>Анализ, использующий пространственное отношение  <b>Ближайший</b>, требует системы координат проекции. Вы можете настроить <b>Систему координат обработки</b> в <b>Параметрах среды анализа</b>. Если система координат обработки не является системой координат проекции, при <b>Запуске анализа</b> вам предложат изменить её. .
            </p>
            <p>Кроме выбора слоя из вашей карты, можно щелкнуть  <b>Выбрать слой анализа</b> в нижней части ниспадающего списка, чтобы найти свои ресурсы для набора данных или векторного слоя файлового хранилища больших данных.
            </p>
        </div>
    </div>
    <div id="joinLayer">
        <div><h2>Слой для присоединения к целевому слою</h2></div>
        <hr/>
        <div>
            <p>Присоединяемый слой с атрибутами, которые будут присоединяться к целевому слою.
            </p>
            <p>Кроме выбора слоя из вашей карты, можно щелкнуть  <b>Выбрать слой анализа</b> в нижней части ниспадающего списка, чтобы найти свои ресурсы для набора данных или векторного слоя файлового хранилища больших данных.
            </p>
        </div>
    </div>
    <div id="joinOperation">
        <div><h2>Операция соединения</h2></div>
        <hr/>
        <div>
            <p>Определяет, как будут управляться в выходных данных соединения между целевым и присоединяемым слоями, если найдено несколько присоединяемых объектов, имеющих одинаковые отношения к слою, к которому выполняется присоединение. Можно выбрать один из двух методов присоединения:
                <ul>
                    <li> <b>Присоединить один к одному</b> &ndash; эта опция суммирует все соответствующие объекты для каждого объекта, к которому выполняется присоединение.
                    </li>
                    <li> <b>Присоединить Один ко многим</b> &ndash; эта опция присоединяет все соответствующие объекты к присоединяемому слою.
                    </li>
                </ul>
                
            </p>
            <p>Например, вы хотите найти супермаркеты, находящиеся на расстоянии 2 километров от фермерских рынков. В этом случае, слой к которому выполняется присоединение, содержит один объект &ndash; фермерский рынок, а присоединяемые объекты представляют собой местные продуктовые магазины с такими атрибутами, как объем ежегодных продаж. Используя инструмент Присоединить объекты, вы обнаружите, что пять магазинов соответствует этому критерию. Если выбрана операция  <b>Присоединить один-ко-многим</b>, вы получите пять объектов, каждая строка будет представлять фермерский рынок и супермаркет. Если выбрано отношение <b>Присоединить один-к-одному</b>, вы получите один объект, представляющий собой фермерский рынок и суммарную информацию по всем супермаркетам, такую как их число (2), и другую статистику, например, объем годовых продаж.
            </p>
        </div>
    </div>
    <div id="joinOptions">
        <div><h2>Выбрать одно или более соединений</h2></div>
        <hr/>
        <div>
            <p>Задает используемый тип соединения. Вы можете применить один, два или три типа присоединения: 
                <ul>
                    <li> <b>Пространственное</b> &ndash; для присоединения объектов используется указанное пространственное отношение. Необходимо, чтобы оба слоя содержали геометрию.
                    </li>
                    <li> <b>Временное</b> &ndash; для присоединения объектов используется временное отношение. Необходимо, чтобы для обоих слоев была включена опция времени.
                    </li>
                    <li> <b>Атрибутивное</b> &ndash; объекты присоединяются на основе одинаковых полей.
                    </li>
                </ul>
                
            </p>
            <p>
            </p>
        </div>
    </div>
    <div id="spatialRelationship">
        <div><h2>Выберите пространственное отношение</h2></div>
        <hr/>
        <div>
            <p>Пространственное отношение, определяющее, будут ли объекты присоединяться друг к другу. Доступные отношения будут зависеть от типа геометрии (точки, линии, полигоны) входных объектов:
                <ul>
                    <li> <b>`Пересекает</b> &ndash; объекты используются, если они пересекаются.
                    </li>
                    <li> <b>Равно</b> &ndash; объекты используются, если имеют одинаковую геометрию.
                    </li>
                    <li> <b>Ближе</b> &ndash; объекты используются, если они находятся в пределах указанного расстояния друг от друга. У целевого слоя должна быть система координат проекции, или при помощи <b>Параметров среды анализа</b> пространственная привязка обработки должна быть задана как система координат проекции, если используется пространственное отношение <b>Ближе</b>.
                    </li>
                    <li> <b>Содержат</b> &ndash; объекты используются, если слой, к которому выполняется присоединение, содержится в присоединяемых объектах.
                    </li>
                    <li> <b>В пределах</b> &ndash; объекты используются, если слой, к которому выполняется присоединение, находится в пределах присоединяемых объектов.
                    </li>
                    <li> <b>Касается</b> &ndash; объекты используются, если их границы соприкасаются.
                    </li>
                    <li> <b>Пересекает</b> &ndash; объекты используются, если имеют пересекающиеся контуры.
                    </li>
                    <li> <b>Перекрывает</b> &ndash; объекты присоединяются, если они перекрываются.
                    </li>
                </ul>
                
            </p>
        </div>
    </div>
    <div id="nearSpatial">
        <div><h2></h2></div>
        <hr/>
        <div>
            <p> Это расстояние задает радиус, применяемый к отношению Ближе.
            </p>
            <p>Например, если у вас есть набор данных, представляющий атомную станцию и набор данных с местами проживания людей, вы можете указать расстояние nearSpatial в 1 километр, чтобы найти, какие дома расположены в радиусе одного километра от станции.
            </p> 
        </div>
    </div>
    <div id="temporalRelationship">
        <div><h2>Выберите временное отношение</h2></div>
        <hr/>
        <div>
            <p>Временное отношение, определяющее, будут ли объекты присоединяться друг к другу. Эта опция доступна только если на обоих слоях используется время, а доступное отношение будет зависеть от типа времени (точное или интервал) входных объектов. Доступны следующие временные отношения:
                <ul>
                    <li> <b>Совпадает</b> &ndash; объекты используются, если первый объект совпадает по времени со вторым.
                    </li>
                    <li> <b>Последовательно</b> &ndash; объекты используются, если первый объект последовательно совпадает со вторым.
                    </li>
                    <li> <b>Перекрывает</b> &ndash; объекты используются, если первый объект перекрывает второй.
                    </li>
                    <li> <b>Перекрывает последовательно</b> &ndash; объекты используются, если первый объект последовательно перекрывается со вторым.
                    </li>
                    <li> <b>В течении</b> &ndash; объекты используются, если время первого объекта проходит в течении времени второго.
                    </li>
                    <li> <b>Содержит</b> &ndash; объекты используются, если первый объект содержит второй.
                    </li>
                    <li> <b>Равен</b> &ndash; объекты используются, если первый объект равен второму.
                    </li>
                    <li> <b>Завершает</b> &ndash; объекты используются, если первый объект завершает второй.
                    </li>
                    <li> <b>Завершается</b> &ndash; объекты используются, если первый объект завершается вторым.
                    </li>
                    <li> <b>Начинает</b> &ndash; объекты используются, если первый объект начинает второй.
                    </li>
                    <li> <b>Начинается</b> &ndash; объекты используются, если первый объект начинается во второго.
                    </li>
                    <li> <b>Пересекает</b> &ndash; объекты используются , если их время полностью пересекается.
                    </li>
                    <li> <b>Ближе</b> &ndash; объекты соединяются, если они находятся в пределах указанного промежутка времени друг от друга.
                    </li>
                    <li> <b>Ближе до</b>&mdash;объекты соединяются, если первый объект по времени произошел раньше второго в пределах указанного промежутка времени.
                    </li>
                    <li> <b>Ближе после</b>&mdash;объекты соединяются, если первый объект по времени произошел позже второго в пределах указанного промежутка времени.
                    </li>
                </ul>
                
            </p>
        </div>
    </div>
    <div id="nearTemporal">
        <div><h2></h2></div>
        <hr/>
        <div>
            
            <p>Задает временной радиус, который применяется к определению соседства объектов по времени. Временное соседство может быть определено как  <b>Ближе</b>, <b>Ближе до</b> и <b>Ближе после</b>.
            </p>
            <p>Например, если у вас есть слой морских происшествий и слой GPS-отслеживания ураганов, вы можете посмотреть, какие события произошли в рамках указанного расстояния от траектории урагана (1 км) и времени (5 часов). Это позволит получить происшествия, связанные с ураганом, т.е. произошедшие недалеко друг от друга, как во времени, так и в пространстве.
            </p>
        </div>
    </div>
    <div id="attributeRelationship">
        <div><h2>Выберите поля для сопоставления</h2></div>
        <hr/>
        <div>
            <p>При этом сопоставляются значения в поле одного слоя со значениями в аналогичном поле другого слоя. 
            </p>
            <p>Например, если у вас есть слой с адресами жилых домов (включая поле почтовых индексов  <i>ZIP</i>) и табличный набор данных по здравоохранению с почтовыми индексами (поле с именем <i>HEALTHZIP</i>), вы можете присоединить одни данные к другим, сопоставив поле <i>ZIP</i> с полем <i>HEALTHZIP</i>. В итоге вы получите слой с жилыми строениями, в котором также будут содержаться данные о состоянии здоровья.
            </p>
        </div>
    </div>
    <div id="summaryFields">
        <div><h2>Добавить статистику (дополнительно)</h2></div>
        <hr/>
        <div>
            <p>Вычисляет статистику в присоединяемых объектах, если выбрана операция сопоставления  <b>Присоединить один-к-одному</b>. Вся статистика будет вычислена автоматически.
            </p>
            <p>Вы можете вычислить статистику по суммируемым объектам. Для числовых полей можно вычислить следующее: 
                <ul>
                    <li>Количество &ndash; вычисляет количество ненулевых значений. Может использоваться с числовыми или текстовыми полями. Количество [null, 0, 2] &ndash; это 2.
                    </li>
                    <li>Сумма &ndash; сумма числовых значений в поле. Сумма [null, null, 3] равна 3.
                    </li>
                    <li>Среднее &ndash; среднее арифметическое числовых значений. Среднее [0, 2, null] равно 1.
                    </li>
                    <li>Мин &ndash; минимальное значение числового поля. Минимальное значение [0, 2, null] равно 0. 
                    </li>
                    <li>Макс &ndash; максимальное значение числового поля. Максимальное значение [0, 2, null] равно 2.
                    </li>
                    <li>Диапазон &ndash; диапазон числового поля. Он вычисляется вычитанием минимального значения из максимального. Диапазон [0, null, 1] равен 1. Диапазон [null, 4] равен 0.
                    </li>
                    <li>Дисперсия &ndash; дисперсия по числовому полю в треке. Дисперсия [1] равна null. Дисперсия [null, 1,0,1, 1] равна 0,25.
                    </li>
                    <li>Среднеквадратическое отклонение &ndash; среднеквадратическое отклонение числового поля. Среднеквадратическое отклонение [1] равно null. Среднеквадратическое отклонение [null, 1,0,1, 1] равно 0,5. 
                    </li>
                </ul>
                
            </p>
            <p>По строковым полям можно вычислить:
                <ul>
                    <li>Количество &ndash; количество не пустых строк.
                    </li>
                    <li>Любая &ndash; эта статистика является случайной выборкой строкового значения в указанном поле.
                    </li>
                </ul>
                Вся статистика вычисляется на ненулевых значениях. Итоговый слой будет содержать новое поле для каждой вычисленной статистики. Можно добавить любое число вычисленных статистических значений, выбрав атрибут и статистику.
            </p>
            <p>Вся статистика вычисляется на ненулевых значениях. Итоговый слой будет содержать новое поле для каждой вычисленной статистики. Можно добавить любое число вычисленных статистических значений, выбрав атрибут и статистику.
            </p>
        </div>
    </div>
    <div id="joinCondition">
        <div><h2>Построить выражение для присоединения к объектам по (дополнительно)</h2></div>
        <hr/>
        <div>
            <p>Применяет к указанным полям условие. Будут присоединены только объекты, значение полей которых соответствуют этим условиям.
            </p>
            <p>Например, если вы хотите выполнить присоединение к набору данных только тех объектов, где значение  <i>health_spending</i>  больше 20 процентов <i>income</i>,  нужно применить условие соединения <code>$target[&quot;health_spending&quot;] &gt; ($join[&quot;income&quot;] * .20)</code> для поля <i>health_spending</i> из первого набора данных (к которому будут присоединяться данные) и поля <i>income</i> из второго набора данных (присоединяемый набор данных).
            </p>
            <p>Условия присоединения применяются с помощью калькулятора выражений.
            </p>
        </div>
    </div>
    <div id="dataStore">
        <div><h2>Выбрать хранилище данных</h2></div>
        <hr/>
        <div>
            <p>Результаты GeoAnalytics хранятся в хранилище данных и выглядят как векторный слой в  Portal for ArcGIS. В большинстве случаев результаты следует сохранять в хранилище пространственно-временных данных, это настройка по умолчанию. В некоторых случаях , сохранение результатов в реляционном хранилище данных является хорошим решением. Следующее может быть поводом для сохранения результатов в реляционном хранилище данных: 
                <ul>
                    <li>Вы можете использовать результаты на портале-для-совместной работы.
                    </li>
                    <li>Вы можете включить синхронизацию для результатов.
                    </li>
                </ul>
                
            </p>
            <p>Вы не должны использовать реляционные хранилища данных, если ожидаете , что результаты GeoAnalytics увеличатся, и хотите использовать преимущества возможностей хранилища больших пространственно-временных данных для управления большими объемами данных.
            </p>
        </div>
    </div>
    <div id="outputName">
        <div><h2>Имя слоя результата</h2></div>
        <hr/>
        <div>
            <p> Имя создаваемого слоя. Если вы записываете в ArcGIS Data Store, ваши результаты будут сохранены в  <b>Моих ресурсах</b> и добавлены на карту. Если вы записываете в файловое хранилище больших данных, ваши результаты будут сохранятся в файловом хранилище больших данных и добавляться в его файл манифеста. Они не будут добавлены на карту. Имя слоя по умолчанию зависит от имени инструмента и имени входного слоя. Если слой уже существует, произойдет сбой.
            </p>
            <p>При записи в  ArcGIS Data Store (реляционное или пространственно-временное хранилище больших данных) с помощью ниспадающего списка поля  <b>Сохранить результат в</b> вы можете задать имя папки в разделе <b>Мои ресурсы</b>, в которую будет записан результат.
            </p>
        </div>
    </div>
</div>
</html>
