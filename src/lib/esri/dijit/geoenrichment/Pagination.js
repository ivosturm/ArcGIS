// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/dijit/geoenrichment/templates/Pagination.html":'\x3cdiv class\x3d"Pagination"\x3e\r\n    \x3cdiv class\x3d"Pagination_PageAndArrows"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"backNode"\r\n             class\x3d"Pagination_Triangle Pagination_TriangleBack"\r\n             style\x3d"display: none;"\r\n             data-dojo-attach-event\x3d"ondijitclick: _backward"\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"Pagination_Items"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"itemsNode" class\x3d"PaginationItemsNode"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv data-dojo-attach-point\x3d"forwardNode"\r\n             class\x3d"Pagination_Triangle Pagination_TriangleForward"\r\n             style\x3d"display: none;"\r\n             data-dojo-attach-event\x3d"ondijitclick: _forward"\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"bulletsNode" class\x3d"Pagination_Bullets"\x3e\x3c/div\x3e\r\n\x3c/div\x3e'}});
define("esri/dijit/geoenrichment/Pagination","esri/declare dojo/_base/lang dojo/_base/array dojox/mvc/Templated dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/dom-style dojo/on dojo/sniff dijit/layout/_LayoutWidget ./utils/animation/AnimationHelper dojo/text!./templates/Pagination.html".split(" "),function(A,w,v,B,r,z,x,t,y,C,D,E,F){return A("esri.dijit.geoenrichment.Pagination",[B,D],{templateString:F,autoCenter:!1,scrollAnimation:!0,cyclicPagination:!1,alwaysShowArrows:!1,detachChildrenUponHiding:!1,
items:null,currentPage:0,_pageCount:0,_pageSize:0,_animation:null,_itemMargins:null,clickEventType:null,constructor:function(){var a=this;this._animation=new E;this._animation.onNodePreDestroy=function(b){a._onNodePreDestroy(b);a.onNodePreDestroy(b)};this.clickEventType=C("touch")?"touchstart, click":"click"},createItemContainer:function(){},updateItemContainer:function(a,b){},onNodePreDestroy:function(a){},onNodePlaced:function(a,b){},onSelect:function(a){},onPageChanged:function(){},onPageChangedManually:function(){},
layout:function(){this._animation.finish();var a=this.items;if(a&&a.length){var b=this.itemsNode.parentNode;if(b&&b.clientHeight){var c=this._parseAutoCenterOption(this.autoCenter);c.type&&t.set(b,"padding","0px");var d=this.itemsNode.firstChild;d||(d=x.create("div",null,this.itemsNode),r.add(d,"PaginationItemsNodeChildDiv"));"stretch"==c.type&&(this._itemMargins={},this._emptyNode(d));for(var f=d.children;!(b.scrollHeight-2>b.clientHeight)&&(c.type||f.length<a.length);){var e=this.createItemContainer();
y(e,this.clickEventType,w.hitch(this,this._onItemClick,e));d.appendChild(e)}for(;b.scrollHeight-2>b.clientHeight&&1<f.length;)this._destroyNode(d.lastChild);var k=f.length;if(c.type){var e=d.firstChild,h=t.getComputedStyle(e),m=z.getMarginBox(e,h);if("stretch"==c.type)var l=z.getMarginExtents(e,h);var g=Math.max(1,Math.floor(d.clientHeight/m.h)),n=d.clientHeight/g,g=Math.max(Math.floor(b.clientHeight/n),g),h=Math.max(1,k/g);c.heightLimit&&g>c.heightLimit&&(g=c.heightLimit);c.widthLimit&&h>c.widthLimit&&
(h=c.widthLimit);var k=g*h,n=m.h,p=Math.max(b.clientWidth-h*m.w,0),q=Math.max(b.clientHeight-g*m.h,0)}var u=this._pageSize=Math.min(k,a.length),k=this._pageCount=Math.ceil(this.items.length/u);c.type&&c.height&&("stretch"==c.type&&(e=Math.floor(q/g),q-=e*g,this._itemMargins.marginTop=(Math.floor(e/2)+l.t).toString()+"px",this._itemMargins.marginBottom=(Math.ceil(e/2)+l.b).toString()+"px",n+=e),1===k&&c.allowVerticallyCenter&&(e=Math.floor((u-1)/h)+1,e<g&&(q+=n*(g-e))),t.set(b,{paddingTop:Math.floor(q/
2).toString()+"px",paddingBottom:"0"}));this.currentPage=this._coerceCurrentPage(this.currentPage);g=0;for(n=u*this.currentPage;g<u&&n<a.length;)e=f[g++],q=a[n++],this._onNodePreDestroy(e),this.updateItemContainer(e,q),this.onNodePlaced(e,q);for(;g<f.length;)this._destroyNode(d.lastChild);c.type&&c.width&&("stretch"==c.type?(e=Math.floor(p/h),p-=e*h,this._itemMargins.marginLeft=(Math.floor(e/2)+l.l).toString()+"px",this._itemMargins.marginRight=(Math.ceil(e/2)+l.r-1).toString()+"px"):e=0,1===k&&u<
h&&!c.preventSingleRowCenter&&(p=Math.max(b.clientWidth-(m.w+e)*u,0)),p=Math.floor(p/2).toString()+"px",t.set(b,{paddingLeft:p,paddingRight:p}));for(g=this._itemMargins?0:f.length;g<f.length;)t.set(f[g++],this._itemMargins);if(this.bulletsNode&&(this.bulletsNode.innerHTML="",1<k))for(a=0;a<k;a++)b=x.create("span",{"class":"Pagination_Bullet",innerHTML:"\x26nbsp;"},this.bulletsNode),y(b,this.clickEventType,w.hitch(this,function(a){this._started=!0;this.set("currentPage",a);this.onPageChangedManually()},
a));this._updateNavigationControls()}}else this.set("items",[])},_parseAutoCenterOption:function(a){if(!a)return{};var b={type:"center"};"string"!=typeof a&&(a="");for(var c=!0;c;){switch(a.charAt(0)){case "$":b.preventSingleRowCenter=!0;break;case "@":b.allowVerticallyCenter=!0;break;default:c=!1}c&&(a=a.substr(1))}switch(a){case "width":return b.width=!0,b;case "height":return b.height=!0,b;default:if(0!=a.indexOf("stretch"))return b.width=b.height=!0,b}b.type="stretch";a=a.substr(7);var d=a.indexOf(":"),
c=0>d?a:a.substr(0,d);a=0>d?"":a.substr(d+1);switch(c){case "-width":b.width=!0;break;case "-height":b.height=!0;break;default:b.width=b.height=!0}if(!a)return b;a=a.split(",");d=0;v.forEach(["width","height"],function(c){if(b[c]){var e=Number(a[d++]);!isNaN(e)&&0<e&&(b[c+"Limit"]=e)}});return b},_onItemClick:function(a){this.onSelect(a)},_coerceCurrentPage:function(a){a>=this._pageCount&&(a=this._pageCount-1);0>a&&(a=0);return a},_updateNavigationControls:function(){var a=this.currentPage,b=1>=this._pageCount,
c=b&&!this.alwaysShowArrows?"none":"",d=["Pagination_TriangleDisabled","Pagination_TriangleEnabled"];if(this.backNode){var f=b||0==a&&!this.cyclicPagination?0:1;r.replace(this.backNode,d[f],d[1-f]);this.backNode.style.display=c}this.forwardNode&&(f=b||a==this._pageCount-1&&!this.cyclicPagination?0:1,r.replace(this.forwardNode,d[f],d[1-f]),this.forwardNode.style.display=c);if(this.bulletsNode)for(b=this.bulletsNode.children,c=0;c<b.length;c++)c==a?r.add(b[c],"Pagination_BulletCurrent"):r.remove(b[c],
"Pagination_BulletCurrent")},_setItemsAttr:function(a){this.items=a;this._emptyNode(this.itemsNode);this.bulletsNode&&(this.bulletsNode.innerHTML="");this._pageCount=this.currentPage=0;this._updateNavigationControls()},selectPageByItemIndex:function(a,b){0>a||!this.items||a>=this.items.length||1>=this._pageCount||this.set("currentPage",Math.floor(a/this._pageSize),b)},selectItem:function(a){a=v.indexOf(this.items,a);if(-1!=a&&!(0>a||!this.items||a>=this.items.length||1>=this._pageCount)&&(a=this.itemsNode.firstChild.children[this.items.length%
this._pageSize]))this.onSelect(a)},navigateToItem:function(a){a=v.indexOf(this.items,a);this.selectPageByItemIndex(a,!0)},_setCurrentPageAttr:function(a,b){this._animation.finish();var c;"next"==a?(c="forward",a=this.currentPage+1,this.cyclicPagination&&a==this._pageCount&&(a=0)):"prev"==a?(c="backward",a=this.currentPage-1,this.cyclicPagination&&-1==a&&(a=this._pageCount-1)):c=!0===this.scrollAnimation?"fade1":this.scrollAnimation;!0===b&&(c="");a=this._coerceCurrentPage(a);if(this.currentPage!=
a){b=this.items||[];var d=this.itemsNode,f=0,e=this._pageSize*a,k=this.itemsNode.firstChild,h=x.create("div");r.add(h,"PaginationItemsNodeChildDiv");for(var m=[];f++<this._pageSize&&e<b.length;){var l=this.createItemContainer();y(l,this.clickEventType,w.hitch(this,this._onItemClick,l));this._itemMargins&&t.set(l,this._itemMargins);h.appendChild(l);var g=b[e++];this._onNodePreDestroy(l);this.updateItemContainer(l,g);m.push({node:l,item:g})}switch(c){case "forward":this._slideAnimation(d,k,h,!0,m);
break;case "backward":this._slideAnimation(d,k,h,!1,m);break;default:if(c&&(c=c?"_"+c+"Animation":null,"function"==typeof this[c])){this[c](d,k,h,a>this.currentPage,m);break}this._emptyNode(d);d.appendChild(h);this._notifyNodesPlaced(m)}this.currentPage=a;this._updateNavigationControls();this.onPageChanged()}},_notifyNodesPlaced:function(a){v.forEach(a,function(a){this.onNodePlaced(a.node,a.item)},this)},_slideAnimation:function(a,b,c,d,f){d?a.appendChild(c):a.insertBefore(c,a.firstChild);this._notifyNodesPlaced(f);
this.isLeftToRight()||(d=!d);a.parentNode.style.overflow="hidden";this._animation.start([{node:a,classes:["Pagination_SlideAnim",d?"Anim_SlideLeft":"Anim_SlideRight"]}],b).then(function(){a.parentNode.style.overflow=""})},_fade1Animation:function(a,b,c,d,f){a.appendChild(c);this._notifyNodesPlaced(f);this._animation.start([{node:b,classes:["Pagination_FadeAnim","Anim_FadeOut"]},{node:c,classes:["Pagination_FadeAnim","Anim_FadeIn"]}],b)},_fade2Animation:function(a,b,c,d,f){var e=this,k=this._animation;
k.start([{node:b,classes:["Pagination_FadeAnim","Anim_FadeOut"]}],b).then(function(){a.appendChild(c);e._notifyNodesPlaced(f);k.start([{node:c,classes:["Pagination_FadeAnim","Anim_FadeIn"]}],b)})},_backward:function(){this.set("currentPage","prev")},_forward:function(){this.set("currentPage","next")},_onNodePreDestroy:function(a){if(this.detachChildrenUponHiding&&a&&a.children)for(;a.children.length;)a.removeChild(a.children[0])},_destroyNode:function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},
_emptyNode:function(a){a&&(this._onNodePreDestroy(a),a.innerHTML="")}})});