// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/level/LevelLineBuilder","dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style ../utils/ChartTypes esri/dijit/geoenrichment/utils/DomUtil".split(" "),function(q,r,h,k,d,f,l){var t={updateLine:function(b,a){h.remove(b,"esriGEReportPlayer_chartContainerLevelLineH esriGEReportPlayer_chartContainerLevelLineV");a?h.add(b,"esriGEReportPlayer_chartContainerLevelLineH"):h.add(b,"esriGEReportPlayer_chartContainerLevelLineV");
l.show(b);d.set(b,{pointerEvents:"none",left:"",top:"",width:"",height:""})}};return q(null,{lineContainerNode:null,_levelLineDiv:null,_secondaryLineDiv:null,constructor:function(b){r.mixin(this,b)},supportsLevelLine:function(b){return b===f.COLUMN||b===f.BAR||f.isLineLike(b)},showLevelLine:function(b,a,c,d,g){this._levelLineDiv=this._levelLineDiv||k.create("div",null,this.lineContainerNode);this._drawLine(this._levelLineDiv,b,a,c,d,g);f.isLineLike(c)&&(this._secondaryLineDiv=this._secondaryLineDiv||
k.create("div",null,this.lineContainerNode),this._drawLine(this._secondaryLineDiv,b,a,c,!d,g))},_drawLine:function(b,a,c,h,g,k){a=a.calculateGeometry();c=l.noTransformPosition(c);var m=l.noTransformPosition(a.node),n=d.get(a.node,"width"),p=d.get(a.node,"height"),e=l.noTransformPosition(this.lineContainerNode);t.updateLine(b,g);switch(h){case f.COLUMN:g&&d.set(b,{top:(k?c.y+c.h-e.y:c.y-e.y-1)+"px",left:m.x-e.x+a.offsets.l+"px",width:n-a.offsets.l-a.offsets.r+"px"});break;case f.BAR:g||d.set(b,{left:(k?
c.x-e.x:c.x+c.w-e.x)+"px",top:m.y-e.y+a.offsets.t+"px",height:p-a.offsets.t-a.offsets.b+"px"});break;case f.LINE:case f.VERTICAL_LINE:g?d.set(b,{top:c.y+c.h/2-e.y-1+"px",left:m.x-e.x+a.offsets.l+"px",width:n-a.offsets.l-a.offsets.r+"px"}):d.set(b,{left:c.x+.5*c.w-e.x+"px",top:m.y-e.y+a.offsets.t+"px",height:p-a.offsets.t-a.offsets.b+"px"})}},hideLevelLine:function(){l.hide([this._levelLineDiv,this._secondaryLineDiv])}})});