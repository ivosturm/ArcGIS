// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/utils/plots/waffle/_LabelRenderer",["../supportClasses/WaffleLabelPlacements","./_LabelCalculator"],function(n,t){return{renderLabels:function(m,p,h,b,e){var c={x:b.l,y:b.t,w:h.width,h:h.height};c.w-=b.l+b.r;c.h-=b.t+b.b;return e.series.waffleLabelPlacement===n.NONE?c:2<p.length?c:this._renderSingleVariableLabels(m,p[0],h,b,e,c)},_renderSingleVariableLabels:function(m,p,h,b,e,c){var k=[];e.series.waffleHideValue||k.push(t.getValueLabelInfo(p,
e,{isSingle:!0}));e.series.waffleHideLabel||k.push(t.getPointLabelInfo(p,e,{isSingle:!0}));var q=function(a){return t.getValueLabelInfo(p,e,{isSingle:!0,progress:a}).text};e.series.waffleShowLabelAbove&&k.reverse();var l=0,g=0;k.forEach(function(a,b){a.box.x=0;l=Math.max(l,a.box.w);0<b&&(g+=5);a.box.y=g;g+=a.box.h});if(!k.length)return c;switch(e.series.waffleLabelPlacement){case n.TOP:k.forEach(function(a){var f=b.t+a.box.y,d;switch(e.series.dataLabelsHorizontalAlign){case "left":d=b.l;break;case "center":d=
b.l+(c.w-a.box.w)/2;break;case "right":d=h.width-b.r-a.box.w}m.renderLabel({x:d,y:f,text:a.text},a.isValue,q)});c.h-=g+10;c.y+=g+10;break;case n.RIGHT:k.forEach(function(a){var f,d;switch(e.series.dataLabelsHorizontalAlign){case "left":f=h.width-b.r-l;break;case "center":f=h.width-b.r-l+(l-a.box.w)/2;break;case "right":f=h.width-b.r-a.box.w}switch(e.series.dataLabelsVerticalAlign){case "top":d=b.t+a.box.y;break;case "middle":d=b.t+(c.h-g)/2+a.box.y;break;case "bottom":d=b.t+c.h-g+a.box.y}m.renderLabel({x:f,
y:d,text:a.text},a.isValue,q)});c.w-=l+10;break;case n.BOTTOM:k.forEach(function(a){var f=h.height-b.b-g+a.box.y,d;switch(e.series.dataLabelsHorizontalAlign){case "left":d=b.l;break;case "center":d=b.l+(c.w-a.box.w)/2;break;case "right":d=h.width-b.r-a.box.w}m.renderLabel({x:d,y:f,text:a.text},a.isValue,q)});c.h-=g+10;break;case n.LEFT:k.forEach(function(a){var f,d;switch(e.series.dataLabelsHorizontalAlign){case "left":f=b.l;break;case "center":f=b.l+(l-a.box.w)/2;break;case "right":f=b.l+l-a.box.w}switch(e.series.dataLabelsVerticalAlign){case "top":d=
b.t+a.box.y;break;case "middle":d=b.t+(c.h-g)/2+a.box.y;break;case "bottom":d=b.t+c.h-g+a.box.y}m.renderLabel({x:f,y:d,text:a.text},a.isValue,q)});c.w-=l+10;c.x+=l+10;break;case n.INSIDE:var r=e.series.waffleLabelOffset||0;k.forEach(function(a){var f,d;switch(e.series.dataLabelsHorizontalAlign){case "left":f=b.l+r;break;case "center":f=b.l+(c.w-a.box.w)/2;break;case "right":f=h.width-b.r-a.box.w-r}switch(e.series.dataLabelsVerticalAlign){case "top":d=b.t+a.box.y+r;break;case "middle":d=b.t+(c.h-g)/
2+a.box.y;break;case "bottom":d=b.t+c.h-g+a.box.y-r}m.renderLabel({x:f,y:d,text:a.text},a.isValue,q)})}return c}}});