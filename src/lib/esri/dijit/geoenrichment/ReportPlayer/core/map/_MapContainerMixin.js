// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/map/_MapContainerMixin","dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct esri/dijit/geoenrichment/utils/DomUtil dojo/i18n!esri/nls/jsapi ../../_devConfig".split(" "),function(f,b,g,d,e,c,h){c=c.geoenrichment.dijit.ReportPlayer.ReportPlayer;return f(null,{isMap:!0,viewModel:null,theme:null,currentFeatureIndex:null,mapJson:null,showError:!0,parentWidget:null,_createMapFunc:null,_webMapId:null,_defaultBasemapId:null,_thumbnailUrl:null,
_calculatorFieldName:null,_additionalLayerInfos:null,_pinSymbolJson:null,_areaSymbolJsons:null,_areaSymbolRamp:null,showMapLegend:!1,postCreate:function(){this._configurePropertiesFromImageJson();this._createMapFunc=this.viewModel.dynamicReportInfo&&this.viewModel.dynamicReportInfo.createMapFunc;this.content=d.create("div",{"class":"mapContainer_content"});this.inherited(arguments);g.add(this.domNode,"esriGEMapContainer");this.setPosition(this.mapJson.style.left||0,this.mapJson.style.top||0)},_configurePropertiesFromImageJson:function(){this.fieldStyle=
this.fieldStyle||{};this.fieldStyle.width=this.mapJson.style.width;this.fieldStyle.height=this.mapJson.style.height;this._calculatorFieldName=this.mapJson.calculatorFieldName;this._webMapId=this.mapJson.webMapId;this._defaultBasemapId=this.mapJson.defaultBasemapId;this._thumbnailUrl=this.mapJson.thumbnailUrl;this._additionalLayerInfos=this.mapJson.additionalLayerInfos;this._pinSymbolJson=this.mapJson.pinSymbolJson;this._areaSymbolJsons=this.mapJson.areaSymbolJsons;this._areaSymbolRamp=this.mapJson.areaSymbolRamp;
this.showMapLegend=this.mapJson.showMapLegend},_showErrorMessage:function(a){this.showError&&this.domNode&&(h.emulateErrors.contentErrors&&(a=!0),a&&!this.errorMessageDiv&&(this.errorMessageDiv=d.create("div",{"class":"esriGEReportPlayerPanelErrorMessage",innerHTML:c.mapLoadError},this.domNode),this.errorMessageDiv.style.paddingTop=this.getHeight()/2-20+"px"),e[a?"show":"hide"](this.errorMessageDiv),e[a?"hide":"show"](this.contentBlock))},resize:function(a){if(!this.domNode)return null;var b=!this.getCurrentMap||
this.getCurrentMap()||this.getRenderPromise();if(a&&(!this.getCurrentMap||!b||a.w!==this.getWidth()||a.h!==this.getHeight())&&(this.setWidth(a.w),this.setHeight(a.h),this.content.style.width=this.getWidth()+"px",this.content.style.height=this.getHeight()+"px",this._createMapFunc))return this._placeMap()},scaleProportionallyWithinParent:function(a){if(!this.domNode)return null;this.resize({w:this.getWidth()*a.xScale,h:this.getHeight()*a.yScale});this.setPosition(this._left*a.xScale,this._top*a.yScale)},
getImageBox:function(){return{w:this.getWidth(),h:this.getHeight(),l:this._left,t:this._top}},_left:0,_top:0,getLeft:function(){return this._left},getTop:function(){return this._top},setPosition:function(a,b){void 0!==a&&(this._left=a||0,this.domNode.style.left=this._left+"px");void 0!==b&&(this._top=b||0,this.domNode.style.top=this._top+"px")},isInitialized:function(){return!0},onContentLoadingStart:function(){},onContentLoadingEnd:function(){},onMapLoadError:function(){},toJson:function(){var a=
this.getImageBox(!0);return{id:"map",isMap:!0,defaultBasemapId:this._defaultBasemapId,webMapId:this._webMapId,additionalLayerInfos:this._additionalLayerInfos&&b.clone(this._additionalLayerInfos),pinSymbolJson:this._pinSymbolJson&&b.clone(this._pinSymbolJson),areaSymbolJsons:this._areaSymbolJsons&&b.clone(this._areaSymbolJsons),areaSymbolRamp:this._areaSymbolRamp&&b.clone(this._areaSymbolRamp),showMapLegend:this.showMapLegend,calculatorFieldName:this._calculatorFieldName,thumbnailUrl:this._thumbnailUrl,
style:{left:this._left,top:this._top,width:a.w,height:a.h}}}})});