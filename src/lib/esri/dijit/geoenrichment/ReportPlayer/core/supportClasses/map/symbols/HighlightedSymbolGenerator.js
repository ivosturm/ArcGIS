// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/map/symbols/HighlightedSymbolGenerator","dojo/_base/lang dojo/_base/Color esri/dijit/geoenrichment/Deferred esri/symbols/SimpleMarkerSymbol esri/symbols/SimpleLineSymbol esri/symbols/jsonUtils esri/renderers/jsonUtils esri/renderers/ClassBreaksRenderer esri/renderers/UniqueValueRenderer esri/dijit/geoenrichment/utils/ColorUtil esri/dijit/geoenrichment/utils/SymbolUtil".split(" "),function(n,e,r,p,q,g,t,u,v,m,w){var l={getHighlightSymbol:function(a){function b(b,
c){var f;c?(f=t.fromJson(n.clone(c)),b=f.getSymbol(b)):b=b.symbol?b.symbol:(f=d.renderer)&&f.getSymbol(b);b=e(b.toJson())||{symbol:a.defaultHighlightSymbol};if(f instanceof v||f instanceof u)b.getSymbol=function(a){var b=f.getSymbol(a);f.getVisualVariableValues&&(b=w.prepareGraphicSymbol(b,f.getVisualVariableValues(a)).symbol);return e(b.toJson()).symbol};k.resolve(b)}function e(b){switch(b.type){case "esriSMS":return l._highlightSMS(b);case "esriPMS":return l._highlightPMS(b);case "esriSFS":return l._highlightSFS(b,
a.outlineOnly)}}var h=a.graphic,d=a.graphicsLayer,c=a.rendererJson,k=new r;if(h)b(h);else if(d&&!c)if(d.graphics.length)b(d.graphics[0]);else var g=d.on("graphic-add",function(){g.remove();b(d.graphics[0])});else c&&("uniqueValue"===c.type||"classBreaks"===c.type?d.graphics.length?b(d.graphics[0],c):g=d.on("graphic-add",function(){g.remove();b(d.graphics[0],c)}):"heatmap"===c.type?k.resolve(null):(h=n.clone(c.symbol),k.resolve(h&&e(h)||{symbol:a.defaultHighlightSymbol})));return k.promise},_highlightSMS:function(a){a.size*=
1.1;if(a.color){var b=m.getHighlightColor(new e(a.color.slice(0,3)));a.color[0]=b.r;a.color[1]=b.g;a.color[2]=b.b}return{symbol:g.fromJson(a)}},_highlightPMS:function(a){a.width*=1.1;a.height*=1.1;a.xoffset*=1.1;a.yoffset*=1.1;var b=new p(p.STYLE_SQUARE,Math.max(a.width,a.height)/.75,new q(q.STYLE_SOLID,new e([255,255,0,.7]),2),new e([0,0,0,0]));b.setOffset(a.xoffset/.75||0,a.yoffset/.75||0);return{symbol:g.fromJson(a),frameSymbol:b}},_highlightSFS:function(a,b){a.color&&!b&&(b=m.getHighlightColor(new e(a.color.slice(0,
3))),a.color[0]=b.r,a.color[1]=b.g,a.color[2]=b.b);a.outline&&a.outline.color&&(b=m.getHighlightColor(new e(a.outline.color.slice(0,3))),a.outline.color[0]=b.r,a.outline.color[1]=b.g,a.outline.color[2]=b.b);return{symbol:g.fromJson(a)}}};return l});