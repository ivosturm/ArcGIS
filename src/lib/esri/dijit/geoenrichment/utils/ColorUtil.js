// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/ColorUtil",["dojo/_base/Color","dojox/color/_base","dojox/color/Palette"],function(f,h,l){function k(a,b,c){return Math.round((a&255)*(1-c)+(b&255)*c)}var d={toCSSColor:function(a,b,c){"string"!==typeof a||/^0x/i.test(a)||(a=f.fromString(a));if(a instanceof f)return b||1===a.a?a.toHex():a.toCss(!0);if(null==a||isNaN(a))return c?d.toCSSColor(c,b):"#000000";a="00000"+Number(a).toString(16);return"#"+a.substr(a.length-6)},toColor:function(a,b){return"object"===
typeof a?(new f).setColor(a):f.fromString(d.toCSSColor(a,!1,b))},getCSSColorWithAlpha:function(a,b){return d.toCSSColor(d.getColorWithAlpha(a,b))},getColorWithAlpha:function(a,b){a=(new f).setColor(a);a.a=b;return a},transform:function(a,b){var c=new l;c.colors=[new f(a)];return c.transform({use:void 0!==b.dl?"hsl":"hsv",dh:b.dh||0,ds:b.ds||0,dv:b.dv||0,dl:b.dl||0}).colors[0]},generateAnalogousColorScheme:function(a,b,c){return l.generators.analogous({base:a,high:b,low:c}).colors},applyColorHue:function(a,
b){a=new h.Color(a);b=new h.Color(b);a=a.toHsl();var c=b.toHsl();a=h.fromHsl({h:a.h,s:0===a.s?0:0===c.s?a.s:c.s,l:c.l});a.a=b.a;return a},getColorParams:function(a){a=new h.Color(a);var b=a.toHsv();b.l=a.toHsl().l;return b},generateGradient:function(a,b){a=a.map(d.toRGBColor);var c=[];if(0===a.length-1||1===b){a=a[0];for(var e=0;e<b;e++)c.push(a);return c}for(var g=1/(b-1),e=0;e<b;e++)c.push(d.getGradientRGBColor(a,e*g));return c},getGradientRGBColor:function(a,b,c){var e=a.length-1,g=1>e||0>=b?0:
1<=b?e:-1;if(0<=g)return a[g];b*=e;g=Math.floor(b);g===e&&g--;return d.mixRGBColors(a[g],a[g+1],b-g,c)},mixRGBColors:function(a,b,c,e){1<c?c=1:0>c&&(c=0);var d=k(a,b,c),f=k(a>>8,b>>8,c),h=k(a>>16,b>>16,c);return((e?k(a>>24,b>>24,c):0)<<24)+(h<<16)+(f<<8)+d},toRGBColor:function(a,b){a=d.toCSSColor(a,!0,b);return parseInt("0x"+a.substr(1))},getContrastColor:function(a,b,c,e){return d.isLightColor(a,e)?d.toColor(b,"#000000"):d.toColor(c,"#FFFFFF")},getHighlightColor:function(a,b){b=b||{};a=new h.Color(a);
x=a.toHsl();if("darker"===b.method)x.l=50>x.l?x.l+30:x.l-20,0<x.s&&(x.s+=30);else{var c=b.saturation||100,e=b.luminosity1||75;b=b.luminosity2||50;0===x.s?x.l=50>x.l?x.l+30:x.l-20:(x.s=c,x.l=x.l<b?e:x.l>e?b:x.l-b>e-x.l?b:e)}b=h.fromHsl(x);b.a=a.a;return b},getLightness:function(a){a=d.toRGBColor(a);return(299*(a>>16&255)+587*(a>>8&255)+114*(a&255))/1E3},isLightColor:function(a,b){return d.getLightness(a)>=(void 0===b?128:b)},colorsEqual:function(a,b){a instanceof f||(a=d.toColor(a));b instanceof f||
(b=d.toColor(b));return a.a==b.a&&a.r==b.r&&a.g==b.g&&a.b==b.b},isTransparent:function(a){a=d.toCSSColor(a);return"rgba(0,0,0,0)"===a.toLowerCase().replace(/\s/g,"")},generateRandomColor:function(a){function b(){return c+Math.round((e-c)*Math.random())}a=a||{};var c=a.min||0,e=a.max||255,d=a.randomizeAlpha?b():1;return a.grayScheme?(a=b(),new f([a,a,a,d])):new f([b(),b(),b(),d])}};return d});