// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/ShapeUtil",["dojo/dom-style","dojo/_base/lang","esri/dijit/geoenrichment/utils/ColorUtil"],function(k,l,h){var m={fillColor:"#FFFFFF",fillAlpha:1,borderAlpha:0,borderWidth:1},f={createSVGNode:function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","svg");b&&k.set(c,b);a=[a.xmin||0,a.ymin||0,a.width,a.height].join(" ");c.setAttribute("viewBox",a);c.setAttribute("xmlns","http://www.w3.org/2000/svg");return c},createPathNode:function(a,b){var c=
document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d",a);f._setSettingsToNode(c,b);return c},createEllipseNode:function(a,b,c,d,g){var e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");e.setAttribute("cx",a||0);e.setAttribute("cy",b||0);e.setAttribute("rx",c);e.setAttribute("ry",d);f._setSettingsToNode(e,g);return e},createCircleNode:function(a,b,c,d){var g=document.createElementNS("http://www.w3.org/2000/svg","circle");g.setAttribute("cx",a||0);g.setAttribute("cy",
b||0);g.setAttribute("r",c);f._setSettingsToNode(g,d);return g},createRectNode:function(a,b,c,d,g){var e=document.createElementNS("http://www.w3.org/2000/svg","rect");e.setAttribute("x",a||0);e.setAttribute("y",b||0);e.setAttribute("width",c);e.setAttribute("height",d);f._setSettingsToNode(e,g);return e},createLineNode:function(a,b,c,d,g){var e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("x1",a||0);e.setAttribute("y1",b||0);e.setAttribute("x2",c||0);e.setAttribute("y2",
d||0);f._setSettingsToNode(e,g);return e},createPolygonNode:function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","polygon");c.setAttribute("points",a);f._setSettingsToNode(c,b);return c},createNodeByAttributes:function(a,b,c){var d=null;switch(a.name){case "path":d=f.createPathNode(a.d,b);break;case "ellipse":d=f.createEllipseNode(a.cx,a.cy,a.rx,a.ry,b);break;case "circle":d=f.createCircleNode(a.cx,a.cy,a.r,b);break;case "rect":d=f.createRectNode(a.x,a.y,a.width,a.height,b);break;
case "line":d=f.createLineNode(a.x1,a.y1,a.x2,a.y2,b);break;case "polygon":d=f.createPolygonNode(a.points,b)}d&&(a=a["fill-opacity"],void 0===a||c&&c.overrideFillOpacity||(d.hasAttribute("fill-opacity")&&(a*=d.getAttribute("fill-opacity")),d.setAttribute("fill-opacity",a)));return d},_setSettingsToNode:function(a,b){if(b.borderWidth){var c=f.toColor(b,"border","#000000");a.setAttribute("stroke",h.toCSSColor(c,!0));a.setAttribute("stroke-width",b.borderWidth);a.setAttribute("stroke-opacity",c.a);b.borderDashArray&&
a.setAttribute("stroke-dasharray",Array.isArray(b.borderDashArray)?b.borderDashArray.join(","):b.borderDashArray);b.strokeMiterLimit&&a.setAttribute("stroke-miterlimit",b.strokeMiterLimit);b.borderScale||a.setAttribute("vector-effect","non-scaling-stroke")}b.fillColor&&(c=f.toColor(b,"fill","#FFFFFF"),a.setAttribute("fill",h.toCSSColor(c,!0)),a.setAttribute("fill-opacity",c.a))},toColor:function(a,b,c,d){c=h.toColor(a[b+"Color"],c);1===c.a&&(a=a[b+"Alpha"],isNaN(a)&&(a=d),isNaN(a)||(c.a=a));return c},
createSVGfromJson:function(a,b,c,d){d=l.mixin({},m,d);void 0===d.borderColor&&(d.borderColor=d.fillColor);var g=f.createSVGNode(a.viewBox,{width:b+"px",height:c+"px",overflow:"visible"});a.g.forEach(function(a){g.appendChild(f.createNodeByAttributes(a,d))});return g}};return f});