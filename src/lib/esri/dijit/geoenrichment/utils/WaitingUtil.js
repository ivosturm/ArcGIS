// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/WaitingUtil",["esri/dijit/geoenrichment/Deferred","esri/dijit/geoenrichment/when","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style"],function(f,g,d,h,k){var e={showProgress:function(a,b){a&&!a["esri.dijit.geoenrichment.util.WaitingUtil.waitingDiv"]&&(a["esri.dijit.geoenrichment.util.WaitingUtil.waitingDiv"]=d.create("div",{"class":"esriGEProgress esriGEProgressAbsolute "+(b||"")},a))},removeProgress:function(a){a&&a["esri.dijit.geoenrichment.util.WaitingUtil.waitingDiv"]&&
(d.destroy(a["esri.dijit.geoenrichment.util.WaitingUtil.waitingDiv"]),delete a["esri.dijit.geoenrichment.util.WaitingUtil.waitingDiv"])},showProgressBar:function(a){var b=a.node;if(b){b._progressBar&&d.destroy(b._progressBar);delete b._progressBar;var c=Number(a.value);0>=c||isNaN(c)||(c=Math.min(c,1),b._progressBar=d.create("div",{"class":"esriGEWaitingMessageProgressBar esriGEWaitingMessageProgressBar_"+(a.position||"bottom")},b),k.set(b._progressBar,"width",h.position(b).w*c+"px"))}},showProgressPromise:function(a,
b,c){if(!a)return b;c=c||{};void 0===a.__progressIndex&&(a.__progressIndex=0);0===a.__progressIndex&&(a.__progressDfd=new f,e.showProgress(a,c.progressClass),c.onShowProgress&&c.onShowProgress());a.__progressIndex++;g(b)["finally"](function(){a.__progressIndex=Math.max(0,--a.__progressIndex);0===a.__progressIndex&&(a.__progressDfd&&a.__progressDfd.resolve(),delete a.__progressDfd,e.removeProgress(a),c.onRemoveProgress&&c.onRemoveProgress())});return b},getProgressPromiseForNode:function(a){return a&&
a.__progressDfd&&a.__progressDfd.promise}};return e});