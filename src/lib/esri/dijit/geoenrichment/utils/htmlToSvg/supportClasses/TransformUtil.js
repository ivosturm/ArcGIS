// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/htmlToSvg/supportClasses/TransformUtil",["dojo/dom-geometry","./dom-style","dojo/sniff"],function(k,e,f){function g(){return f("safari")||f("webkit")?"webkitTransform":"transform"}function l(){return f("safari")||f("webkit")?"webkitTransformOrigin":"transformOrigin"}var m={getBox:function(a,b){b=h.disableTransform(a,b);a=k.position(a);h.restoreTransform(b);return a}},h={disableTransform:function(a,b){function d(a){var b=e.get(a,g());b&&"none"!==b&&(a.style[g()]=
"none",c=c||[],c.push({node:a,transform:b}))}var c;(function(){d(a);for(var c=b;c&&(c.style.transform||c.style.parentHasTransform);)d(c.node),c=c.parentVs})();return c&&{restoreInfos:c}},restoreTransform:function(a){a&&a.restoreInfos.forEach(function(a){a&&e.set(a.node,g(),a.transform)})}},n={getTransform:function(a,b,d){if(d=this._getInheritedTransform(b,d)){if(-1!==d.indexOf("translate"))return d;var c=k.position(b),f=e.get(b,l());e.set(b,l(),-a.x+"px "+-a.y+"px");a=k.position(b);e.set(b,l(),f);
return"translate("+-(a.x+a.w/2-(c.x+c.w/2))+" "+-(a.y+a.h/2-(c.y+c.h/2))+") "+d}},_getInheritedTransform:function(a,b){for((a=e.get(a,g()))&&"none"!==a||(a=void 0);b&&(b.style.transform||b.style.parentHasTransform);)a=b.style.transform||a,b=b.parentVs;return a}};return{measureNode:function(a,b){var d=m.getBox(a,b);return{box:d,transform:n.getTransform(d,a,b)}},disableTransform:h.disableTransform,restoreTransform:h.restoreTransform}});