// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/metadata/types/arcgis/form/InputHierarchyLevel","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/topic dojo/query dijit/registry dojo/dom-class dojo/dom-style dojo/has ../../../../../kernel ./InputSelectCode dojo/i18n!../../../nls/i18nArcGIS".split(" "),function(g,n,l,p,h,k,e,u,q,r,t,v){g=g([t],{postCreate:function(){this.inherited(arguments);var a=this;this.own(p.subscribe("gxe/xnode-destroyed",function(d){try{d&&d.xnode&&"/metadata/mdHrLv"===d.xnode.gxePath&&a.emitInteractionOccurred()}catch(b){console.error(b)}}))},
emitInteractionOccurred:function(a){this.inherited(arguments);try{var d=this.parentXNode.gxeDocument;(d.isAgsISO19139||d.isAgsINSPIRE)&&this._checkLevelName();(d.isAgsISO19139||d.isAgsINSPIRE||d.isAgsNAP||d.isAgsFGDC)&&this._checkService()}catch(b){console.error(b)}},_checkLevelName:function(){var a=this.parentXNode.parentElement.parentElement.parentElement.domNode,d,b,c,f=this.parentXNode.gxeDocument;c=!1;if(f.isAgsISO19139||f.isAgsINSPIRE)if(c=h("[data-gxe-path\x3d'/metadata/mdHrLv/ScopeCd/@value']",
a),c=l.some(c,function(a){if(b=k.byNode(a))if(d=b.inputWidget.getInputValue(),null!==d&&""!==d&&"005"!==d&&"006"!==d)return!0}),b=this._findFirstInputWgt("/metadata/mdHrLvName",a))a=b.parentXNode.multiplicityHeader.labelNode,c?(b.parentXNode.minOccurs=1,b.parentXNode.multiplicityHeader.minOccurs=1,e.remove(a,"gxeOptionalLabel"),e.add(a,"gxeMandatoryLabel")):(b.parentXNode.minOccurs=0,b.parentXNode.multiplicityHeader.minOccurs=0,e.remove(a,"gxeMandatoryLabel"),e.add(a,"gxeOptionalLabel")),b.emitInteractionOccurred()},
_checkQuality:function(){var a=this.parentXNode.parentElement.parentElement.parentElement.domNode,d,b,c,f=this.parentXNode.gxeDocument,m=c=!1,g=!1;if(f.isAgsISO19139||f.isAgsINSPIRE||f.isAgsNAP)c=h("[data-gxe-path\x3d'/metadata/mdHrLv/ScopeCd/@value']",a),l.forEach(c,function(a){if(b=k.byNode(a))d=b.inputWidget.getInputValue(),"005"==d?m=!0:"006"===d&&(g=!0)});if(f.isAgsISO19139||f.isAgsNAP)c=m||g,(b=this._findElement("/metadata/dqInfo",a))&&b.labelWidget&&(a=b.labelWidget.domNode,c?(b.minOccurs=
1,e.remove(a,"gxeOptionalLabel"),e.add(a,"gxeMandatoryLabel")):(b.minOccurs=0,e.remove(a,"gxeMandatoryLabel"),e.add(a,"gxeOptionalLabel")))},_checkService:function(){var a=this.parentXNode.parentElement.parentElement.parentElement.domNode,d,b,c,f;c=this.parentXNode.gxeDocument;var g=f=!1;if(c.isAgsISO19139||c.isAgsINSPIRE||c.isAgsNAP||c.isAgsFGDC)f=h("[data-gxe-path\x3d'/metadata/mdHrLv/ScopeCd/@value']",a),l.forEach(f,function(a){if(b=k.byNode(a))d=b.inputWidget.getInputValue(),"014"==d&&(g=!0)});
if(c.isAgsISO19139||c.isAgsINSPIRE||c.isAgsNAP){f=g;if(b=this._findInputWgt("/metadata/dataIdInfo/svType/genericName",a))c=b.parentXNode.labelNode,f?(b.parentXNode.minOccurs=1,e.remove(c,"gxeOptionalLabel"),e.add(c,"gxeMandatoryLabel")):(b.parentXNode.minOccurs=0,e.remove(c,"gxeMandatoryLabel"),e.add(c,"gxeOptionalLabel")),b.emitInteractionOccurred();if(b=this._findInputWgt("/metadata/dataIdInfo/svCouplType/CouplTypCd/@value",a))c=b.parentXNode.parentElement.parentElement.labelNode,f?(b.parentXNode.minOccurs=
1,b.parentXNode.parentElement.minOccurs=1,b.parentXNode.parentElement.parentElement.minOccurs=1,e.remove(c,"gxeOptionalLabel"),e.add(c,"gxeMandatoryLabel")):(b.parentXNode.minOccurs=0,b.parentXNode.parentElement.minOccurs=0,b.parentXNode.parentElement.parentElement.minOccurs=0,e.remove(c,"gxeMandatoryLabel"),e.add(c,"gxeOptionalLabel")),b.emitInteractionOccurred()}},_findElement:function(a,d){return(a=h("[data-gxe-path\x3d'"+a+"']",d))&&1===a.length?a=k.byNode(a[0]):null},_findFirstInputWgt:function(a,
d){return(a=h("[data-gxe-path\x3d'"+a+"']",d))&&0<a.length&&(a=k.byNode(a[0]))?a.inputWidget:null},_findInputWgt:function(a,d){return(a=h("[data-gxe-path\x3d'"+a+"']",d))&&1===a.length&&(a=k.byNode(a[0]))?a.inputWidget:null}});q("extend-esri")&&n.setObject("dijit.metadata.types.arcgis.form.InputHierarchyLevel",g,r);return g});