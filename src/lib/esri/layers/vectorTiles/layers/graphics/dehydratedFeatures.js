// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/layers/graphics/dehydratedFeatures","require exports ../../Graphic ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ./dehydratedFeatureComparison".split(" "),function(w,c,h,u,e,f,v){function k(a){switch(a){case "esriGeometryPoint":return"point";case "esriGeometryMultipoint":return"multipoint";case "esriGeometryPolyline":return"polyline";case "esriGeometryPolygon":return"polygon";case "esriGeometryEnvelope":return"extent"}}
function l(a,b,d,c){return{uid:h.generateUID(),objectId:c&&a.attributes?a.attributes[c]:null,attributes:a.attributes,geometry:m(a.geometry,b,d),visible:!0}}function m(a,b,d){if(!a)return null;switch(b){case "point":return{x:a.x,y:a.y,z:a.z,type:b,spatialReference:d};case "polyline":var c=a;return{paths:c.paths,hasZ:c.hasZ,hasM:c.hasM,type:b,spatialReference:d};case "polygon":return{rings:a.rings,hasZ:c.hasZ,hasM:c.hasM,type:b,spatialReference:d};case "multipoint":return{points:a.points,hasZ:c.hasZ,
hasM:c.hasM,type:b,spatialReference:d};case "extent":return{xmin:a.xmin,ymin:a.ymin,zmin:a.zmin,mmin:a.mmin,xmax:a.xmax,ymax:a.ymax,zmax:a.zmax,mmax:a.mmax,hasZ:a.hasZ,hasM:a.hasM,type:b,spatialReference:d}}}function g(a){return"point"===a.type?null!=a.z:"extent"===a.type?null!=a.zmin:a.hasZ}function n(a){return"declaredClass"in a}function p(a,b){e.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[3]=a.x;b[1]=b[4]=a.y;g(a)&&(b[2]=b[5]=a.z);break;case "polyline":for(var c=0;c<
a.paths.length;c++)e.expandWithNestedArray(b,a.paths[c],g(a));break;case "polygon":for(c=0;c<a.rings.length;c++)e.expandWithNestedArray(b,a.rings[c],g(a));break;case "multipoint":e.expandWithNestedArray(b,a.points,g(a));break;case "extent":b[0]=a.xmin,b[1]=a.ymin,b[3]=a.xmax,b[4]=a.ymax,null!=a.zmin&&(b[2]=a.zmin),null!=a.zmax&&(b[5]=a.zmax)}}function q(a,b){f.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[2]=a.x;b[1]=b[3]=a.y;break;case "polyline":for(var c=0;c<a.paths.length;c++)f.expandWithNestedArray(b,
a.paths[c]);break;case "polygon":for(c=0;c<a.rings.length;c++)f.expandWithNestedArray(b,a.rings[c]);break;case "multipoint":f.expandWithNestedArray(b,a.points);break;case "extent":b[0]=a.xmin,b[1]=a.ymin,b[2]=a.xmax,b[3]=a.ymax}}Object.defineProperty(c,"__esModule",{value:!0});c.equals=v.equals;c.isPoint=function(a){return"point"===a.type};c.mapJSONGeometryType=k;c.fromFeatureSetJSON=function(a){var b=k(a.geometryType),c=u.fromJSON(a.spatialReference);return a.features.map(function(d){return l(d,
b,c,a.objectIdFieldName)})};c.fromJSON=l;c.fromJSONGeometry=m;c.makeDehydratedPoint=function(a,b,c,e){return{x:a,y:b,z:c,spatialReference:e,type:"point"}};c.hasZ=g;c.isHydratedGeometry=function(a){return"declaredClass"in a};c.isHydratedGraphic=n;c.hydrateGraphic=function(a,b){if(!a||n(a))return a;b=new h({layer:b,sourceLayer:b});b.read(a);return b};c.computeAABB=p;c.expandAABB=function(a,b){p(a,r);e.expand(b,r)};c.computeAABR=q;c.expandAABR=function(a,b){q(a,t);f.expand(b,t)};var r=e.create(),t=f.create()});