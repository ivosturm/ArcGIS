// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/dijit/RasterFunctionEditor/templates/RFxFieldNumberSwitchable.html":'\x3cdiv class\x3d"esri-rfx-switch-selector"\x3e\r\n    \x3ctable class\x3d"esri-rfx-args-editor__table"\x3e\r\n        \x3ctr\x3e\r\n            \x3ctd\x3e\r\n                \x3cselect data-dojo-attach-point\x3d"switchableSelect" data-dojo-type\x3d"dijit/form/Select" class\x3d"esri-rfx-switch-selector__switch-select"\x3e\r\n                \x3c/select\x3e\r\n            \x3c/td\x3e\r\n            \x3ctd\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d\'option1Div\'\x3e\x3c/div\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d\'option2Div\'\x3e \x3c/div\x3e\r\n            \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n    \x3c/table\x3e\r\n\x3c/div\x3e'}});
define("esri/dijit/RasterFunctionEditor/RFxFieldNumberSwitchable","dojo/_base/declare ./RFxFieldSelect ./RFxLinearUnit dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/NumberTextBox dijit/form/Select dojo/dom-style dojo/text!./templates/RFxFieldNumberSwitchable.html dojo/i18n!../../nls/jsapi esri/lang".split(" "),function(d,e,f,g,h,k,l,m,b,n,p,q){return d([g,h,k],{declaredClass:"esri.dijit.RasterFunctionEditor.RFxFieldNumberSwitchable",templateString:n,defaultEnumValue:"default",
types:{list:"list",unit:"linearUnit",number:"number",field:"field"},constructor:function(){this.inherited(arguments);this._i18n=p.widgets.rasterFunctionEditor.rfxFieldNumberSwitchable},postCreate:function(){this.inherited(arguments);this._createUIComponents();b.set(this._switchFieldSelect.domNode,"display","none");this.switchableSelect.on("change",this._switchSelectChange.bind(this));this._readValues()},_createUIComponents:function(){this.attributes.forEach(function(a,b){var c=a.type;b="option"+(b+
1)+"Div";c===this.types.number?(this.switchableSelect.addOption({label:this._i18n.number,value:this.types.number}),this._switchNumberInput=new l({name:"switchNumberInput",class:"esri-rfx-switch-selector__switch-number-input"},this[b]),this.selectorType=this.types.number):c===this.types.field?(this.switchableSelect.addOption({label:this._i18n.field,value:this.types.field}),this.layerArg=a.argumentName,this._switchFieldSelect=new e({layerArg:this.layerArg},this[b]),this._switchFieldSelect.startup()):
c===this.types.list?(this.switchableSelect.addOption({label:this._i18n.string,value:this.types.list}),this._addDefaultEnumOption(a.enumStore),this._switchEnumSelect=new m({store:a.enumStore,value:this.defaultEnumValue,labelAttr:"label",maxHeight:200},this[b]),this.selectorType=this.types.list):c===this.types.unit&&(this.switchableSelect.addOption({label:this._i18n.linearUnit,value:this.types.unit}),this._switchUnitSelect=new f({enumStore:a.enumStore},this[b]),this.selectorType=this.types.unit)},this)},
_readValues:function(){var a=this.value;if(q.isDefined(a)&&""!==a)if(isNaN(a))if(this._switchFieldSelect.store&&this._switchFieldSelect.store.data&&this._switchFieldSelect.store.query({name:a})[0])this.switchableSelect.set("value",this.types.field),this._switchFieldSelect.set("value",a);else switch(this.selectorType){case this.types.list:this.switchableSelect.set("value",this.types.list);this._switchEnumSelect.set("value",a.toString(),!1);break;case this.types.unit:this.switchableSelect.set("value",
this.types.unit),this._switchUnitSelect._setValues(a)}else this._switchNumberInput.set("value",parseFloat(a))},_switchSelectChange:function(a){a===this.types.field?(b.set(this._switchFieldSelect.domNode,"display","table"),a="none"):(a="block",b.set(this._switchFieldSelect.domNode,"display","none"));switch(this.selectorType){case this.types.list:b.set(this._switchEnumSelect.domNode,"display","block"===a?"table":a);break;case this.types.unit:b.set(this._switchUnitSelect.domNode,"display",a);break;case this.types.number:b.set(this._switchNumberInput.domNode,
"display",a)}},_getValueAttr:function(){if(this.switchableSelect){var a=this.switchableSelect.value;if(a===this.types.field)return this._switchFieldSelect.value;if(a===this.types.list)return this._switchEnumSelect.value===this.defaultEnumValue?void 0:this._switchEnumSelect.value;if(a===this.types.unit)return this._switchUnitSelect.get("value");a=this._switchNumberInput.value;if(null!=a&&!isNaN(a))return a.toString()}},_addDefaultEnumOption:function(a){(a=a&&a.data)&&a.push({key:this.defaultEnumValue,
label:""})},setFieldOptions:function(){this._switchFieldSelect.setFieldOptions()}})});