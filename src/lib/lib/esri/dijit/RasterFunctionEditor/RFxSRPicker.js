// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/dijit/RasterFunctionEditor/templates/RFxSRPicker.html":'\x3cdiv class\x3d"srPicker"\x3e\r\n  \x3cdiv class\x3d"input-group input-group-sm"\x3e\r\n    \x3cinput type\x3d"text" class\x3d"form-control font-1rem  ptp-6 pbp-6" data-dojo-attach-point\x3d"srsInputNode" /\x3e\r\n    \x3cspan tabindex\x3d"0" class\x3d"input-group-addon btn btn-transparent omp-input-group-addon-right mrp-10 clear-filter"\r\n      data-dojo-attach-point\x3d"nodeClearSRS" data-dojo-attach-event\x3d"click:reset"\x3e\x3c/span\x3e\r\n    \x3cdiv class\x3d"input-group-addon font-1rem  ptp-6 pbp-6"\x3e\r\n      \x3ca class\x3d"filter-down-arrow" href\x3d"javascript:void(0)" data-dojo-attach-event\x3d"click:showOptions"\r\n        aria-haspopup\x3d"true" aria-expanded\x3d"false" data-dojo-attach-point\x3d"srsButton"\x3e\x3c/a\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv id\x3d"{srconfig.id}" data-dojo-attach-point\x3d"srsTreeNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n'}});
define("esri/dijit/RasterFunctionEditor/RFxSRPicker","dojo/_base/declare dojo/dom-class dojo/query dojo/on dojo/Evented dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/RFxSRPicker.html dojo/i18n!../../nls/jsapi ./srUtils dojo/NodeList dojo/NodeList-traverse".split(" "),function(k,c,e,g,l,m,n,p,q,r,t,u){return k("esriRFxSRPicker",[n,p,q,l],{templateString:r,idPrefix:"srsList",dismissContainer:null,dismissOutside:!0,category:1,_uniqueId:"",
treeviewStyle:"treeview-sm",rightIcon:"om-svg-chevron-right",constructor:function(a,b){this.domNode=b;this._i18n=t.analysisSettings;this.dismissContainer=a&&a.dismissContainer;this._uniqueId=m.getUniqueId(this.idPrefix);this.templateString=this.templateString.replace("{srconfig.id}",this._uniqueId);this.category=a&&null!=a.category?a.category:this.category;b=u.categories;switch(this.category){case 1:b={"Geographic Coordinate Systems":b["Geographic Coordinate Systems"],"Projected Coordinate Systems":b["Projected Coordinate Systems"]};
break;case 2:b={"Vertical Coordinate Systems":b["Vertical Coordinate Systems"]}}this.srCategories=b;this._flattedSRS=this._getFlattedSRS();this._l10nResources={"Geographic Coordinate Systems":this._i18n.geographicCS,"Projected Coordinate Systems":this._i18n.projCS};this.value=a&&a.value},postCreate:function(){var a=this.createTreeView(this.srCategories);this.srsTreeNode.innerHTML=a;this._leaves=e(".treeview a.leaf",this.domNode);this._divs=e(".treeview div",this.domNode);this._folders=e(".treeview .list-group-item:not(.leaf)",
this.domNode);this._icons=this._divs.prev().children("i");this._treeview=e(".treeview",this.domNode)[0];var b=this.srsInputNode,d=this._treeview;this.value&&this._populateSRSInput(this.value);this.dismissOutside&&this.own(g(this.dismissContainer||document,":not(.treeview):click",function(a){d.contains(a.target)||b.parentNode.contains(a.target)||c.remove(d,"in")}));this.own(g(this.domNode,".treeview a.leaf:click",function(a){a=a.target.innerText;c.remove(d,"in");this.setSR(a)}.bind(this)),g(this.domNode,
".treeview .list-group:click",function(a){var b;(a=a.target)&&a.matches(".list-group-item")?(b=a.dataset&&a.dataset.target,c.toggle(a,"open")):a&&a.matches(".om-svg")&&(b=a.parentElement.dataset&&a.parentElement.dataset.target,c.toggle(a.parentElement,"open"));b&&this._toggleVisibility(b)}.bind(this)))},reset:function(){this.srsInputNode.value="";this._divs.removeClass("in");this._leaves.removeClass("hidden");this._folders.removeClass("hidden");this._searchText="";c.add(this.nodeClearSRS,"hidden")},
_getFlattedSRS:function(){function a(d,f){"object"===typeof f?Object.keys(f).forEach(function(b){a(b,f[b])}):b.push({wkid:d,name:f})}var b=[];a(null,this.srCategories);return b},createTreeView:function(a,b,d,f,c){null==b&&(b=0);d=d||this._uniqueId;if("object"===typeof a){var e=Object.keys(a),g=d+"-"+b;null==c&&(c=0);null==this.currentIndex&&(this.currentIndex=0);f='\x3ca class\x3d"list-group-item level'+b+'" data-target\x3d"#'+g+"-"+this.currentIndex+'" data-parent\x3d"#'+(d+"-"+(b-1)+"-"+c)+'"\x3e\x3ci class\x3d"om-svg '+
this.rightIcon+'"\x3e\x3c/i\x3e\x3ci class\x3d"om-svg om-svg-folder-close"\x3e\x3c/i\x3e'+(1===b?this._l10nResources[f]:f)+"\x3c/a\x3e";var h=this.currentIndex;c=this.treeviewStyle?this.treeviewStyle:"treeview-popup";e=e.map(function(c){c=this.createTreeView(a[c],b+1,d,c,h,this.currentIndex+1);this.currentIndex++;return c},this).join("");return 0===b?'\x3cdiv class\x3d"treeview '+c+' collapse"\x3e\x3cdiv class\x3d"list-group" id\x3d"'+g+'"\x3e'+e+"\x3c/div\x3e\x3c/div\x3e":f+'\x3cdiv class\x3d"collapse" id\x3d"'+
g+"-"+h+'"\x3e'+e+"\x3c/div\x3e"}return'\x3ca class\x3d"list-group-item level'+b+' leaf" tabIndex\x3d"0" role\x3d"listitem"\x3e\x3ci class\x3d"esri-icon-globe"\x3e\x3c/i\x3e\x3cspan\x3e'+a+"\x3c/span\x3e\x3c/a\x3e"},setSR:function(a){this._searchText=this.srsInputNode.value=a;c.remove(this.nodeClearSRS,"hidden")},getSR:function(a){var b=this.srsInputNode.value;a=(a=this._flattedSRS.find(function(a){return a.name.toLowerCase().trim()===b.toLowerCase().trim()}))||{wkid:0,name:b};a.wkid=parseInt(a.wkid);
return a},getSRWithID:function(a){return this._flattedSRS.find(function(b){return b.wkid.toLowerCase().trim()===a.toString()})},showOptions:function(){this._toggleVisibility("#"+this._uniqueId+" .treeview")},_toggleVisibility:function(a){c.toggle(e(a,this.domNode)[0],"in")},_populateSRSInput:function(){var a=this.getSRWithID(this.value.wkid);a&&this.setSR(a.name)},_getValueAttr:function(){var a=this.getSR(this.srsInputNode.value);return this.value={wkid:a.wkid,latestWkid:a.wkid}}})});