<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title></title>
    <link rel="Stylesheet" href="../css/analysis.css" />
    <script type="text/javascript">
        function init() {
            if (window.location.hash) {
                var parentDiv, nodes, i, helpInfo, helpId, helpInfoArr, helpEnvFilter, envContent, hideEnvClass, hideNodes;
                helpInfo = window.location.hash.substring(1);
                    if(helpInfo.indexOf("-")) {
                        helpInfoArr = helpInfo.split("-");
                        helpId = helpInfoArr[0];
                        helpEnvFilter = helpInfoArr[1];
                    }
                    else {
                        helpId = helpInfo;
                    }
                parentDiv = document.getElementById("topics");
                nodes = parentDiv.children;
                    hideEnvClass = (helpEnvFilter === "OnlineOnly"? "PortalOnly": "OnlineOnly");
                    if(document.getElementsByClassName) {
                        hideNodes = document.getElementsByClassName(hideEnvClass);
                    }
                    else {
                        hideNodes = document.querySelectorAll(hideEnvClass);
                    }
                for(i=0; i < nodes.length; i++) {
                    if(nodes[i].id !== helpId) {
                        nodes[i].style.display ="none";
                    }
                    }
                    for(i=0; i < hideNodes.length; i++) {
                        hideNodes[i].style.display ="none";
                    }
                }
            }
    </script>
</head>
<body onload="init()">
<div id="topics">
    <div id="toolDescription" class="largesize">
        <h2>Присоединить данные</h2><p/>
        <h2><img src="../images/GUID-8C95EAE0-904A-42C4-8C3D-303E74FD6DD7-web.png" alt="Схема рабочего процесса Присоединить данные"></h2>
        <hr/>
    <p>Этот инструмент присоединяет данные к существующему размещенному векторному слою. Инструмент Присоединить данные изменяет исходный набор данных, новый выходной слой не создается. Можно выполнить сопоставление полей на основе их названия и типа, либо вы можете применить более продвинутые методы сопоставления.
    </p>
    <p>Ниже приведены примеры: 
        <ul>
            <li>Вы являетесь сотрудником большой страховой компании, которому нужно ежемесячно создавать отчет о продажах. Для готового отчета необходимо скомбинировать ежемесячные.  Чтобы проанализировать продажи, вы можете начать с того, что с помощью инструмента Присоединить данные будете обновлять слой AnnualReport_2018 каждый месяц по мере выхода отчетов. Поскольку схема отчетов остается неизменной, вы можете использовать метод сопоставления по умолчанию, чтобы присоединять данные на основе названия и типа поля.
            </li>
            <li>Десять групп, работающих с окружающей средой, собирают сотни тысяч метеорологический наблюдений по зонам ответственности.  Эти организации хотят собрать свои данные воедино, чтобы изучить глобальные и региональные закономерности. У каждой организации своя схема хранения данных. Поля, в которых хранятся сведения о температуре и скорости ветра, называются по-разному.  Если указать различия в названиях разных наборов данных, то можно поля сопоставить и указать, как именно нужно соединять данные по температуре и ветру из разных источников данных.
            </li>
        </ul>
        
    </p>
    </div>
    <!--Parameter divs for each param-->
    <div id="inputLayer">
        <div><h2>Выберите слой, к которому выполняется присоединение</h2></div>
        <hr/>
        <div>
            <p>Таблица, точечный, линейный или полигональный класс объектов, к которому будут присоединены данные.
            </p>
            <table>
            <tr><td colspan="3"><hr size="1" noshade="noshade"></td></tr>
            <tr><td valign="baseline"><img src="../images/caution.png"></td><td valign="baseline"><h2>Caution:&ensp;</h2></td>
            <td valign="baseline">
                <p>Присоединяемый слой будет изменен в ходе работы инструмента. Поэтому убедитесь, что вы действительно хотите поменять исходный слой.
                </p>
            </td></tr>
            <tr><td colspan="3"><hr size="1" noshade="noshade"></td></tr>
            </table>
            <p>Кроме выбора слоя из вашей карты, можно щелкнуть  <b>Выбрать слой анализа</b> в нижней части ниспадающего списка, чтобы найти размещенный векторный слой в своих ресурсах.
            </p>
        </div>
    </div>
    <div id="appendLayer">
        <div><h2>Выберите присоединяемый слой</h2></div>
        <hr/>
        <div>
            <p>Таблица, точечный, линейный или полигональный класс объектов, который будет присоединяться к входному слою.
            </p>
            <p>Кроме выбора слоя из вашей карты, можно щелкнуть  <b>Выбрать слой анализа</b> в нижней части ниспадающего списка, чтобы найти свои ресурсы для набора данных или векторного слоя файлового хранилища больших данных.
            </p>
        </div>
    </div>
    <div id="filter">
        <div><h2>Присоединить все объекты или указать поднабор объектов (дополнительно)</h2></div>
        <hr/>
        <div>
            <p>Определяет, какие объекты будут присоединены. Это дополнительный параметр.
            </p>
        </div>
    </div>
    <div id="fieldMapping">
        <div><h2>Выберите, как присоединить поля (дополнительно)</h2></div>
        <hr/>
        <div>
            <p>Определяет, как именно поля будут присоединяться к входным данным. По умолчанию все сопоставленные поля будут присоединены. Поля сопоставляются, если у них одинаковые названия и типы данных. Дополнительно вы можете выбрать, как именно нужно сопоставить поля или вычислить выражение Arcade, чтобы заполнить значения полей.
            </p>
            <p>Например, у вас есть входной слой с полями  <i>field_number</i>, <i>field_string</i>, <i>date_field</i>, <i>unused_field</i> и присоединяемый слой с полями <i>field_string</i>, <i>field_number</i>, and <i>MY_DATE_FIELD</i>.
                <ul>
                    <li>По умолчанию инструмент сопоставит  <i>field_number</i> во входном слое с <i>field_number</i> в присоединяемом слое, а также <i>field_string</i>  во входном слое с <i>field_string</i> в присоединяемом.
                    </li>
                    <li>По умолчанию поля  <i>date_field</i> и <i>unused_field</i> во входном слое будут заполнены значениями <i>null</i>, поскольку для них нет сопоставлений.
                    </li>
                    <li>Опционально вы можете присоединить значения в поля, для которых не было найдено сопоставлений автоматически. Например, поле  <i>date_field</i> во входном слое может быть сопоставлено с полем <i>MY_DATE_FIELD</i> в присоединяемом. Для этого используйте ниспадающее меню рядом с <i>date_field</i> в первом столбце и выберите <i>MY_DATE_FIELD</i> из ниспадающего меню во втором столбце.
                    </li>
                </ul>
                 Еще один пример: во входном слое есть числовые поля <i>value_1</i>, <i>value_2</i>, <i>value_3</i> и <i>my_Average</i>, а в присоединяемом есть поля <i>value_1</i>, <i>value_2</i> и <i>value_3</i>.
                <ul>
                    <li>По умолчанию поля  <i>value_1</i>, <i>value_2</i> и <i>value_3</i> будут сопоставлены и присоединены.
                    </li>
                    <li>Дополнительно к стандартному сопоставлению можно вычислить значения для поля  <i>my_Average</i>. Сделайте это, выбрав нужные поля и математические операторы в ниспадающем меню <b>Выражение</b> в столбце рядом с названием <i>my_Average</i> и создав выражение Arcade, выглядящее примерно следующим образом: <pre>average($feature[&quot;value_1&quot;] + $feature[&quot;value_2&quot;] + $feature[&quot;value_3&quot;])</pre>.
                    </li>
                </ul>
                
            </p>
        </div>
    </div>
</div>
</html>
