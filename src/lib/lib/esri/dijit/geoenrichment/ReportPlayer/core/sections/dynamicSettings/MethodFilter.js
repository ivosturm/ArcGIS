// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/dijit/geoenrichment/ReportPlayer/core/templates/sectionDynamicSettings/MethodFilter.html":'\x3cdiv class\x3d"esriGEReportPlayer_sectionDynamicMethodFilter"\x3e\r\n    \x3cdiv class\x3d"esriGERowHigh"\x3e${nls.orSelectMethod}\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriGERow15"\x3e\r\n        \x3cdiv class\x3d"dijitInline esriGESpaceAfter20" data-dojo-attach-point\x3d"rangesSelectDiv"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"dijitInline" data-dojo-attach-point\x3d"methodsSelectDiv"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"dijitInline esriGESpaceBefore20" data-dojo-attach-point\x3d"methodInputDiv"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e'}});
define("esri/dijit/geoenrichment/ReportPlayer/core/sections/dynamicSettings/MethodFilter","dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox esri/dijit/geoenrichment/OnDemandSelect ./supportClasses/FilterUtil esri/dijit/geoenrichment/utils/DomUtil esri/dijit/geoenrichment/utils/MouseUtil dojo/text!../../templates/sectionDynamicSettings/MethodFilter.html dojo/i18n!esri/nls/jsapi".split(" "),function(f,g,h,k,l,d,c,e,m,n,b){b=b.geoenrichment.dijit.ReportPlayer.SectionDynamicSettingsBuilder;
return f([h,k],{templateString:n,nls:b,selectRangePlaceholder:null,rangesSelect:null,methodsSelect:null,methodInput:null,setRanges:function(a){this.rangesSelect||this._createFilterControls();a=a||[];this.rangesSelect.set("options",a.map(function(a){return{value:a.fieldName,label:a.label}}));this.rangesSelect.set("value",null);e[1<a.length?"show":"hide"](this.rangesSelectDiv)},setFilter:function(a){this.methodsSelect||this._createFilterControls();a?(this.rangesSelect.set("value",a.fieldName||this.rangesSelect.get("value")),
this.methodsSelect.set("value",a.method===c.RANGE?null:a.method),this.methodInput.set("value",a.numElements||""),this._updateMethodInputAvailability()):this._clearMethod()},_createFilterControls:function(){var a=this;this.rangesSelect=(new d({listClass:"esriGEOnDemandSelectSpacedOut esriGEOnDemandSelectTallList",placeHolder:this.selectRangePlaceholder||b.selectRange,options:[],onChange:function(){a._onSelectValueChanged()}})).placeAt(this.rangesSelectDiv);this.own(this.rangesSelect);this.methodsSelect=
(new d({listClass:"esriGEOnDemandSelectSpacedOut esriGEOnDemandSelectTallList",placeHolder:b.selectMethod,options:[{value:c.TOP_N,label:b.topN},{value:c.BOTTOM_N,label:b.bottomN},{value:c.ABOVE_AVERAGE,label:b.aboveAverage},{value:c.BELOW_AVERAGE,label:b.belowAverage}],onChange:function(){a._onSelectValueChanged()}})).placeAt(this.methodsSelectDiv);this.own(this.methodsSelect);this.methodInput=(new l).placeAt(this.methodInputDiv);this.own(this.methodInput);g(this.methodInput.textbox,"keyup",function(){a._applyFilter()})},
_onSelectValueChanged:function(){this.methodInput.get("value")||this.methodInput.set("value",3);this._updateMethodInputAvailability();this._applyFilter()},_applyFilter:function(){var a=this.rangesSelect.get("value");if(!(1<this.rangesSelect.get("options").length)||a){var b=this.methodsSelect.get("value");if(b){var d=Number(this.methodInput.get("value")||0);if(b!==c.TOP_N&&b!==c.BOTTOM_N||d)this.onFilterChanged({method:b,fieldName:a,numElements:d})}}},_clearMethod:function(){this.methodsSelect.set("value",
null);this.methodInput.set("value","");this._updateMethodInputAvailability()},_updateMethodInputAvailability:function(){e[this.methodsSelect.get("value")===c.TOP_N||this.methodsSelect.get("value")===c.BOTTOM_N?"show":"hide"](this.methodInputDiv)},onFilterChanged:function(a){},isMouseOver:function(a){return m.isMouseOver(this.domNode)||this.rangesSelect&&this.rangesSelect.isMouseOver()||this.methodsSelect&&this.methodsSelect.isMouseOver()}})});