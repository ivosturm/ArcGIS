// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/metadata/editor/util/DownloadXmlDialog","dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-class dojo/dom-construct dojo/has dijit/_WidgetBase dojo/i18n!../../nls/i18nBase dijit/Dialog ./OkCancelBar ../../base/etc/docUtil ../../../../kernel".split(" "),function(a,b,m,n,d,g,h,l,p,q,r,t){a=a([h],{dialog:null,dialogTitle:l.editor.download.dialogTitle,postCreate:function(){this.inherited(arguments)},show:function(a,c){var g=c+".xml";a=new Blob([a],{type:"text/xml"});c=d.create("div",
{});var e=d.create("div",{"class":"gxePrimaryPane gxeDownloadPane"},c),k=d.create("a",{"class":"gxeClickableText gxeBold gxeLine",onclick:b.hitch(this,function(){this.dialog&&this.dialog.hide()})},e);r.setNodeText(k,l.editor.download.prompt);e=new FileReader;this.own(m.after(e,"onload",b.hitch(this,function(a){var b=null;a&&a.target&&a.target.result&&(b=a.target.result,k.href=b,k.download=g)}),!0));e.readAsDataURL(a);var h=new q({showOk:!1,onCancelClick:b.hitch(this,function(){this.dialog&&this.dialog.hide()})},
d.create("div",{},c)),f=this.dialog=new p({"class":"gxeDialog  gxePopupDialog",title:this.dialogTitle,content:c});this.isLeftToRight()||n.add(f.domNode,"gxeRtl");this.own(f.on("hide",b.hitch(this,function(){setTimeout(b.hitch(this,function(){h.destroyRecursive(!1);f.destroyRecursive(!1);this.destroyRecursive(!1)}),300)})));f.show()}});g("extend-esri")&&b.setObject("dijit.metadata.editor.util.DownloadXmlDialog",a,t);return a});