//>>built
define("xstyle/core/base","xstyle/core/elemental xstyle/core/expression xstyle/core/Definition xstyle/core/utils put-selector/put xstyle/core/Rule xstyle/core/es6".split(" "),function(r,g,t,h,x,k,B){function l(a,b,d){function c(b){return{selectElement:function(e){d.newElement&&(e=e.parentNode);if(b&&b.selector)for(;!u(e,b);)if(e=e.parentNode,!e)throw Error("Rule not found");if(d.inherit)for(;!(a in e);)if(e=e.parentNode,!e)throw Error(a?a+" not found":"Property was never defined");return e},forElement:function(e){var c=
e;e=this.selectElement(e);d.newElement&&(e["_"+a+"Node"]=c);e=d.get?d.get(e,a):e[a];return void 0===e&&b?n(a).valueOf().forRule(b):e},forRule:d.inherit&&function(a){return c(a)}}}var f=new t(function(){return c(b)});f.define=function(b,c){return l(a||c,b,d)};f.keepCSSValue=!0;f.put=d.inherit?function(b,d){return n(a).put(b,d,a)}:function(c){return{forElement:function(e){if(b&&b.selector)for(;!u(e,b);)if(e=e.parentNode,!e)throw Error("Rule not found");d.set?d.set(e,a,c):e[a]=c;f.invalidate({elements:[e]})}}};
return f}function C(a,b,d,c){return h.when(g.evaluate(a,d),function(b){b.forElement?r.addRenderer(a,function(a){c(b.forElement(a),a)}):c(b)})}function v(a,b){return{apply:function(d,c,f){C(d,f,c[0],function(c,e){c.observe(function(c){c=c?a:b;value.toString().replace(new RegExp(a+"\\([^)]+\\)","g"),c);e?e.style[f]=c:d.setStyle(f,c)})})}}}function y(a,b){var d=a.variables;if(d&&b in d)return d[b];if(a=a.bases)for(d=0;d<a.length;d++){var c=y(a[d],b);if(void 0!==c)return c}}function n(a){var b=z[a];b||
(b=z[a]=new t(function(){return{forRule:function(b){a:{do{var c=y(b,a);if(void 0!==c){b=c;break a}b=b.parent}while(b);b=void 0}return b}}}),b.put=function(a,c,f){return{forRule:function(c){function d(b){m.push(b);for(var a in b.rules)d(b.rules[a])}(c.variables||(c.variables={}))[f]=a;for(var m=[];c;)d(c),c=c.parent;b.invalidate({rules:m})}}});return b}var w=x("div"),p=navigator.userAgent,A=-1<p.indexOf("WebKit")?"-webkit-":-1<p.indexOf("Firefox")?"-moz-":-1<p.indexOf("MSIE")?"-ms-":-1<p.indexOf("Opera")?
"-o-":"",q;k=new k;var u=r.matchesRule;k.root=!0;var z={};k.definitions={Math:Math,window:window,global:window,module:g.selfResolving(function(a,b){a[0].value&&(a=a[0].value);b||require([a]);return{then:function(b){return(new B.Promise(function(b){require([a],function(a){b(a)})})).then(b)}}}),item:l("item",null,{inherit:!0}),pageContent:new t,content:l("content",null,{inherit:!0,newElement:function(){return this.element}}),elementProperty:l(null,null,{}),elementClass:l(null,null,{get:function(a,b){return-1<
(" "+a.className+" ").indexOf(" "+b+" ")},set:function(a,b,d){this.get(a,b)!=d&&(a.className=d?a.className+(" "+b):(" "+a.className+" ").replace(" "+b+" ","").replace(/^ +| +$/g,""))}}),element:{forElement:function(a){return a},define:function(a){return{forElement:function(b){for(;!u(b,a);)if(b=b.parentNode,!b)throw Error("Rule not found");return b}}}},event:{observe:function(a){a(q)},valueOf:function(){return q}},each:{put:function(a){return{forRule:function(b){b.each=a}}}},prefix:{put:function(a,
b,d){return{forRule:function(b){if("string"==typeof w.style[A+d])return b._setStyleFromValue(A+d,a),!0}}}},"var":{define:function(a,b){return n(b)},selfResolving:!0,apply:function(a,b){return n(h.convertCssNameToJs(b[0]))}},inline:v("inline","none"),block:v("block","none"),visible:v("visible","hidden"),"extends":{apply:function(a,b){for(;0<b.length;)return h.extend(a,b[0],console.error)}},set:{selfExecuting:!0,apply:function(a,b){return b[0].put(b[1].valueOf())}},get:{apply:function(a,b){return b[0]},
put:function(a,b){g.evaluate(b,a)}},toggle:{selfExecuting:!0,apply:function(a,b){return b[0].put(!b[0].valueOf())}},on:{put:function(a,b,d){return{forRule:function(b){r.on(document,d.charAt(2).toLowerCase()+d.slice(3),b,function(c){q=c;try{h.when(g.evaluate(b,a).valueOf(),function(a){a&&a.forRule&&(a=a.forRule(b));a&&a.forElement&&(a=a.forElement(c.target));q=null},function(b){console.error("Error in "+d+" event handler, executing "+a,b)})}catch(m){console.error("Error in "+d+" event handler, executing "+
a,m)}})}}}},title:{put:function(a){return{forRule:function(b){g.observe(g.evaluate(b,a),function(b){document.title=b})}}}},"@supports":{selector:function(a){function b(a){var c;if(c=a.match(/^\s*not(.*)/))return!b(c[1]);if(c=a.match(/\((.*)\)/))return b(c[1]);if(c=a.match(/([^:]*):(.*)/))return a=h.convertCssNameToJs(c[1]),c=w.style[a]=c[2],w.style[a]==c;if(c=a.match(/\w+\[(.*)=(.*)\]/))return x(c[0])[c[1]]==c[2];if(c=a.match(/\w+/))return h.isTagSupported(c);throw Error("can't parse @supports string");
}b(a.selector.slice(10))?a.selector="":a.disabled=!0}},"true":!0,"false":!1,"null":null};k.elementProperty=l;return k});